(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79856,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(22016);e.s(["default",0,function(){let[e,i]=(0,l.useState)(!1),[r,n]=(0,l.useState)(""),[t,c]=(0,l.useState)({}),[m,o]=(0,l.useState)(new Set),[d,u]=(0,l.useState)(!1),[h,b]=(0,l.useState)(""),[f,p]=(0,l.useState)({con_name:"",con_email:"",rebuyers:"",flatNumber:"",con_message:"",image:""}),g=(0,l.useRef)(null),x={"Jewel Of India Phase-2":{name:"Suncity Grievance Team",mobile:"8447737045",email:"branding@suncityprojects.com"},"Jewel Tower":{name:"Suncity Grievance Team",mobile:"8447737045",email:"branding@suncityprojects.com"},"Suncity Ultima":{name:"Suncity Grievance Team",mobile:"8447737045",email:"branding@suncityprojects.com"},"The Empire":{name:"Suncity Grievance Team",mobile:"8447737045",email:"branding@suncityprojects.com"},"Jewel Farms":{name:"Suncity Grievance Team",mobile:"8447737045",email:"branding@suncityprojects.com"},"The Empire Centre":{name:"Suncity Grievance Team",mobile:"8447737045",email:"branding@suncityprojects.com"}},[j,v]=(0,l.useState)({name:"",mobile:"",email:""}),N=e=>e.trim().length>0,y=e=>{let{name:a,value:l}=e.target;if("con_isd"===a||p(e=>({...e,[a]:l})),"rebuyers"===a&&l){let e=x[l];e&&v({name:e.name,mobile:e.mobile,email:e.email})}t[a]&&c(e=>({...e,[a]:void 0}))},w=async(e,a)=>{let l=`${a}-${Date.now()}`;o(e=>new Set(e).add(l));try{let a=new FormData;a.append("file",e),a.append("folder","grievance");let l=await fetch("/api/upload",{method:"POST",body:a});if(l.ok)return(await l.json()).url;throw Error("Upload failed")}catch(e){return console.error("Upload error:",e),alert("Failed to upload file"),null}finally{o(e=>{let a=new Set(e);return a.delete(l),a})}},_=async(e,a)=>{let l=e.target.files?.[0];if(!l)return;let s=await w(l,a);s&&p(e=>({...e,[a]:s}))},S=async e=>{if(e.preventDefault(),!(()=>{var e,a;let l={};(N(f.con_name)||(l.con_name="Name is required"),N(f.con_email))?(e=f.con_email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(l.con_email="Please enter a valid email address")):l.con_email="Email is required";let s="";{let e=g.current;if(e&&window.intlTelInput){let a=window.intlTelInput.getInstance(e);s=a?a.getNumber()||e.value||"":e?.value||""}}return N(s)?(a=s,/^[6-9]\d{9}$/.test(a.replace(/\D/g,""))||(l.con_isd="Please enter a valid 10-digit mobile number")):l.con_isd="Mobile number is required",N(f.rebuyers)||(l.rebuyers="Project name is required"),N(f.flatNumber)||(l.flatNumber="Unit number is required"),N(f.con_message)||(l.con_message="Complaint message is required"),c(l),0===Object.keys(l).length})())return void n("error");i(!0);let a="";{let e=g.current;if(e&&window.intlTelInput){let l=window.intlTelInput.getInstance(e);if(l){let e=l.getNumber();e&&(a=e)}a||(a=e.value||"")}}try{let e=await fetch("/api/otp/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:a})});if(await e.json(),!e.ok){n("error"),i(!1);return}g.current&&(g.current.value=a),b(a),u(!0)}catch(e){n("error"),i(!1)}};return(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("div",{className:"emptyBox"}),(0,a.jsx)("div",{className:"breadcrumbWrapper",children:(0,a.jsx)("div",{className:"container-lg","data-aos":"fade-in",children:(0,a.jsxs)("ol",{className:"breadcrumb",children:[(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)(s.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{className:"breadcrumb-item active",children:"Grievance Assistance Center"})]})})}),(0,a.jsx)("div",{className:"w-100 padding overflow-hidden position-relative section-portfolio bg-white",children:(0,a.jsxs)("div",{className:"container-lg",children:[(0,a.jsxs)("div",{className:"heading text-center mx-auto","data-aos":"fade-in",children:[(0,a.jsx)("h1",{className:"title-xxl text-primary",children:"Grievance Assistance Center"}),(0,a.jsx)("p",{className:"mb-0",children:"Home Buyer / Allottee Grievance Redressal Cell"})]}),(0,a.jsx)("div",{className:"grievanceForm",children:(0,a.jsx)("form",{id:"cp_form",method:"post",onSubmit:S,children:(0,a.jsxs)("div",{className:"row gy-5",children:[(0,a.jsx)("div",{className:"col-lg-8",children:(0,a.jsxs)("div",{className:"row g-4 justify-content-center",children:[(0,a.jsxs)("div",{className:"col-md-6 col-sm-6",children:[(0,a.jsxs)("div",{className:"form-group d-flex",children:[(0,a.jsx)("i",{className:"fa fa-user"}),(0,a.jsx)("input",{type:"text",id:"con_name",name:"con_name",value:f.con_name,onChange:y,className:`form-control lg bg-white border-1 border-primary ${t.con_name?"is-invalid":""}`,placeholder:"Name*"})]}),t.con_name&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:t.con_name})]}),(0,a.jsxs)("div",{className:"col-md-6 col-sm-6",children:[(0,a.jsxs)("div",{className:"form-group d-flex",children:[(0,a.jsx)("i",{className:"fa fa-envelope"}),(0,a.jsx)("input",{type:"email",id:"con_email",name:"con_email",value:f.con_email,onChange:y,className:`form-control lg bg-white border-1 border-primary ${t.con_email?"is-invalid":""}`,placeholder:"Email*"})]}),t.con_email&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:t.con_email})]}),(0,a.jsxs)("div",{className:"col-md-12 col-sm-6",children:[(0,a.jsxs)("div",{className:"form-group d-flex",children:[(0,a.jsx)("i",{className:"fa fa-phone"}),(0,a.jsx)("input",{type:"tel",id:"ISDCode",name:"con_isd",ref:g,defaultValue:"",onChange:y,className:`form-control lg bg-white border-1 border-primary ISDCode ${t.con_isd?"is-invalid":""}`,placeholder:"Mobile*"})]}),t.con_isd&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:t.con_isd})]}),(0,a.jsxs)("div",{className:"col-sm-6",children:[(0,a.jsxs)("div",{className:"form-group d-flex",children:[(0,a.jsx)("i",{className:"fa fa-building"}),(0,a.jsxs)("select",{className:`form-control lg bg-white border-1 border-primary form-select ${t.rebuyers?"is-invalid":""}`,name:"rebuyers",id:"rebuyers",value:f.rebuyers,onChange:y,children:[(0,a.jsx)("option",{value:"",children:"Project Name"}),(0,a.jsx)("option",{value:"Jewel Of India Phase-2",children:"Jewel Of India Phase-2"}),(0,a.jsx)("option",{value:"Jewel Tower",children:"Jewel Tower"}),(0,a.jsx)("option",{value:"Suncity Ultima",children:"Suncity Ultima"}),(0,a.jsx)("option",{value:"The Empire",children:"The Empire"}),(0,a.jsx)("option",{value:"Jewel Farms",children:"Jewel Farms"}),(0,a.jsx)("option",{value:"The Empire Centre",children:"The Empire Centre"})]})]}),t.rebuyers&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:t.rebuyers})]}),(0,a.jsxs)("div",{className:"col-sm-6",children:[(0,a.jsxs)("div",{className:"form-group d-flex",children:[(0,a.jsx)("i",{className:"fa fa-building"}),(0,a.jsx)("input",{type:"text",id:"flatNumber",name:"flatNumber",value:f.flatNumber,onChange:y,className:`form-control lg bg-white border-1 border-primary ${t.flatNumber?"is-invalid":""}`,placeholder:"Unit Number*"})]}),t.flatNumber&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:t.flatNumber})]}),(0,a.jsxs)("div",{className:"col-sm-12",children:[(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("textarea",{id:"con_message",name:"con_message",value:f.con_message,onChange:y,className:`form-control lg bg-white border-1 border-primary ${t.con_message?"is-invalid":""}`,cols:8,rows:f.rebuyers?10:13,placeholder:"Complaint Message*"})}),t.con_message&&(0,a.jsx)("div",{className:"text-danger small mt-1",children:t.con_message})]}),(0,a.jsxs)("div",{className:"col-sm-12",children:[(0,a.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Upload Image"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>_(e,"image"),required:!f.image,className:"form-control"}),f.image&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("img",{src:f.image,alt:"Grievance Image Preview",className:"rounded",style:{height:"10rem",width:"15rem",objectFit:"cover"}})})]})]})}),(0,a.jsx)("div",{className:"col-lg-4",children:(0,a.jsxs)("div",{className:"inner h-100 p-4 bg-secondary-light",children:[(0,a.jsx)("h5",{className:"fw-light mb-4",children:"Grievance Redressal Officer"}),!f.rebuyers&&(0,a.jsxs)("div",{className:"alert alert-warning small mb-3",role:"alert",children:[(0,a.jsx)("i",{className:"fa fa-info-circle me-2"}),"Select a project to view assigned officer details"]}),(0,a.jsxs)("div",{className:"form-group d-flex mb-3",children:[(0,a.jsx)("i",{className:"fa fa-user border-0 bg-white"}),(0,a.jsx)("input",{type:"text",id:"officer_name",readOnly:!0,className:"form-control lg bg-white",placeholder:"Officer Name*",value:j.name})]}),(0,a.jsxs)("div",{className:"form-group d-flex mb-3",children:[(0,a.jsx)("i",{className:"fa fa-phone border-0 bg-white"}),(0,a.jsx)("input",{type:"tel",id:"officer_mobile",readOnly:!0,className:"form-control lg bg-white",placeholder:"Officer Mobile*",value:j.mobile})]}),(0,a.jsxs)("div",{className:"form-group d-flex mb-4",children:[(0,a.jsx)("i",{className:"fa fa-envelope border-0 bg-white"}),(0,a.jsx)("input",{type:"email",id:"officer_email",readOnly:!0,className:"form-control lg bg-white",placeholder:"Officer Email*",value:j.email})]}),(0,a.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,a.jsxs)("li",{className:"list-group-item d-flex gap-5 align-items-center justify-content-between",children:[(0,a.jsx)("small",{children:"Total number of Complaints/Grievances received"})," ",(0,a.jsx)("span",{className:"badge bg-primary",children:"00"})]}),(0,a.jsxs)("li",{className:"list-group-item d-flex gap-5 align-items-center justify-content-between",children:[(0,a.jsx)("small",{children:"Total number of Complaints/Grievances Settled"})," ",(0,a.jsx)("span",{className:"badge bg-primary",children:"00"})]})]})]})}),(0,a.jsx)("div",{className:"col-sm-4",children:(0,a.jsxs)("div",{className:"readmore mt-2",children:[(0,a.jsx)("input",{type:"hidden",name:"operation",value:"contact_enq"}),(0,a.jsx)("button",{type:"submit",id:"con_btn",className:"button mx-auto bg-dark text-white mw-100 w-100",disabled:e,children:e?"Submitting...":"Submit"})]})})]})})})]})})]})}])}]);