(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,73765,e=>{"use strict";var s=e.i(71645);let a=(...e)=>e.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim(),t=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:c,...d},h)=>(0,s.createElement)("svg",{ref:h,...i,width:t,height:t,stroke:e,strokeWidth:r?24*Number(l)/Number(t):l,className:a("lucide",n),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,a])=>(0,s.createElement)(e,a)),...Array.isArray(o)?o:[o]])),r=(e,i)=>{let r=(0,s.forwardRef)(({className:r,...n},o)=>(0,s.createElement)(l,{ref:o,iconNode:i,className:a(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=t(e),r};e.s(["default",()=>r],75254);let n=r("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>n],73765)},16019,e=>{"use strict";var s=e.i(73765);e.s(["Trash",()=>s.default])},52124,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(75254);let i=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var l=e.i(16019);let r=(0,t.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function n(){let[e,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[u,b]=(0,a.useState)({position_name:"",experience_required:"",CTC:"",job_responsibilities:"",qualifications:""});(0,a.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=await fetch("/api/admin/jobs"),s=await e.json();t(s.forms)}catch(e){console.error("Error fetching jobs:",e)}finally{o(!1)}},x=async s=>{if(confirm("Are you sure you want to delete this job posting?"))try{(await fetch(`/api/admin/jobs/${s}`,{method:"DELETE"})).ok?(t(e.filter(e=>e._id!==s)),alert("Job deleted successfully")):alert("Failed to delete job")}catch(e){console.error(e),alert("Error deleting job")}},p=e=>{e?(m(e),b(e)):(m(null),b({position_name:"",experience_required:"",CTC:"",job_responsibilities:"",qualifications:""})),d(!0)},f=async e=>{e.preventDefault();let s=h?"PUT":"POST",a=h?`/api/admin/jobs/${h._id}`:"/api/admin/jobs";try{(await fetch(a,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok?(j(),d(!1),alert(h?"Job updated successfully":"Job added successfully")):alert("Failed to save job")}catch(e){console.error(e),alert("Error saving job")}};return n?(0,s.jsx)("div",{className:"p-5 text-center",children:"Loading..."}):(0,s.jsxs)("div",{className:"container py-5",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,s.jsx)("h1",{className:"h3 fw-bold",children:"Job Postings"}),(0,s.jsxs)("button",{className:"btn btn-primary d-flex align-items-center gap-1",onClick:()=>p(),children:[(0,s.jsx)(i,{size:18})," Add Job Posting"]})]}),(0,s.jsx)("div",{className:"card shadow-sm",children:(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover mb-0",children:[(0,s.jsx)("thead",{className:"table-light",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Position"}),(0,s.jsx)("th",{children:"Experience"}),(0,s.jsx)("th",{children:"CTC"}),(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.length?e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.position_name}),(0,s.jsx)("td",{children:e.experience_required}),(0,s.jsx)("td",{children:e.CTC}),(0,s.jsx)("td",{children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>p(e),children:(0,s.jsx)(r,{size:16})}),(0,s.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>x(e._id),children:(0,s.jsx)(l.Trash,{size:16})})]})})]},e._id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"text-center py-4",children:"No job postings found."})})})]})})}),c&&(0,s.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,s.jsx)("div",{className:"modal-dialog",children:(0,s.jsx)("div",{className:"modal-content",children:(0,s.jsxs)("form",{onSubmit:f,children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:h?"Edit Job":"Add Job Posting"}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(!1)})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Position Name"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:u.position_name,onChange:e=>b({...u,position_name:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Experience Required"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:u.experience_required,onChange:e=>b({...u,experience_required:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"CTC"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:u.CTC,onChange:e=>b({...u,CTC:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Job Responsibilities (separated by ;)"}),(0,s.jsx)("textarea",{className:"form-control",rows:3,value:u.job_responsibilities,onChange:e=>b({...u,job_responsibilities:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Job Qualifications (separated by ;)"}),(0,s.jsx)("textarea",{className:"form-control",rows:3,value:u.qualifications,onChange:e=>b({...u,qualifications:e.target.value}),required:!0})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:h?"Update":"Add Job"})]})]})})})})]})}e.s(["default",()=>n],52124)}]);