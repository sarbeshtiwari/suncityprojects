(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8374,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566);function n({onLogout:e,onMenuToggle:t}){return(0,a.jsx)("header",{className:"bg-white shadow-sm border-bottom fixed-top w-100",style:{zIndex:50,borderColor:"#e5e7eb"},children:(0,a.jsx)("div",{className:"container-fluid px-3 px-md-4 px-lg-5",children:(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",style:{height:"4rem"},children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsx)("button",{onClick:t,className:"btn btn-link p-2 text-muted",style:{border:"none",background:"none"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,a.jsx)("svg",{style:{width:"1.5rem",height:"1.5rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsx)("div",{className:"d-flex align-items-center ms-3 ms-lg-0",children:(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("img",{style:{height:"2rem"},src:"/images/logo.svg",alt:"Suncity Projects"})})})]}),(0,a.jsx)("div",{className:"d-flex align-items-center gap-3",children:(0,a.jsx)("button",{onClick:e,className:"btn btn-danger btn-sm",style:{transition:"all 0.2s ease"},children:"Logout"})})]})})})}var r=e.i(22016);let i=[{name:"Dashboard",href:"/admin",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{name:"Contact Forms",href:"/admin/contacts",icon:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},{name:"Career Applications",href:"/admin/careers",icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{name:"Job Postings",href:"/admin/job-postings",icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{name:"Channel Partners",href:"/admin/channel-partners",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{name:"Grievances",href:"/admin/grievances",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},{name:"Newsletter Subscriptions",href:"/admin/newsletters",icon:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},{name:"Project Enquiries",href:"/admin/project-enquiries",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Projects",href:"/admin/projects",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Amenities",href:"/admin/amenities",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Locations",href:"/admin/locations",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Blogs",href:"/admin/blogs",icon:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"},{name:"Manage Events",href:"/admin/events",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Settings",href:"/admin/settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"}];function o({isOpen:e,onClose:t}){let n=(0,s.usePathname)();return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)("div",{className:"position-fixed d-lg-none",style:{top:"64px",left:0,right:0,bottom:0,zIndex:30,backgroundColor:"rgba(75, 85, 99, 0.75)"},onClick:t}),(0,a.jsxs)("div",{className:`
          sideMenu position-sticky d-lg-block d-flex flex-column
          ${e?"active":""}
        `,style:{top:"64px",left:0,zIndex:40,width:e?"16rem":"5.5rem",height:"calc(100vh - 64px)",backgroundColor:"white",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease-in-out",overflow:e?"":"hidden"},children:[(0,a.jsx)("nav",{className:`flex-fill mt-4
          ${e?"px-3":"px-0"}
        `,children:(0,a.jsx)("ul",{className:"list-unstyled",children:i.map(s=>{let i=n===s.href;return(0,a.jsx)("li",{className:"mb-1",children:(0,a.jsxs)(r.default,{href:s.href,className:`
                      d-flex align-items-center px-3 py-2 text-decoration-none rounded
                      ${i?"bg-primary text-white":"text-muted"}
                    `,style:{transition:"all 0.2s ease",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:e=>{i||(e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#374151")},onMouseLeave:e=>{i||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6b7280")},onClick:()=>{window.innerWidth<1024&&t()},children:[(0,a.jsx)("svg",{className:"flex-shrink-0 me-3",style:{width:"1.25rem",height:"1.25rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s.icon})}),(0,a.jsx)("span",{className:`${e?"d-block":"d-none"}`,children:s.name})]})},s.name)})})}),(0,a.jsx)("div",{className:` ${e?"d-block":"d-none"}`,children:(0,a.jsx)("div",{className:"bg-light rounded p-3",children:(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsxs)("div",{className:"ms-3",children:[(0,a.jsx)("p",{className:"mb-0 small fw-medium text-dark",children:"Admin User"}),(0,a.jsx)("p",{className:"mb-0 small text-muted",children:"admin@suncityprojects.com"})]})})})})]})]})}function l({onLogin:e,errorMessage:s}){let[n,r]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[l,m]=(0,t.useState)(!1),[d,c]=(0,t.useState)(s||""),h=async a=>{a.preventDefault(),m(!0),c("");let t=await e(n,i);t.success||c(t.message||"Login failed"),m(!1)};return(0,a.jsx)("div",{className:"admin-panel d-flex align-items-center justify-content-center py-5",style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #eff6ff, white, #e0e7ff)"},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row justify-content-center",children:(0,a.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center bg-white rounded-circle shadow",style:{width:"4rem",height:"4rem"},children:(0,a.jsx)("img",{style:{width:"3.5rem",height:"3.5rem"},src:"/images/logo-icon.svg",alt:"Suncity Projects"})}),(0,a.jsx)("h2",{className:"mt-4 mb-2 display-6 fw-bold text-dark",children:"Welcome Back"}),(0,a.jsx)("p",{className:"small text-muted",children:"Sign in to your admin dashboard"})]}),(0,a.jsxs)("div",{className:"bg-white p-4 shadow-lg rounded-3",children:[(0,a.jsxs)("form",{onSubmit:h,children:[d&&(0,a.jsx)("div",{className:"alert alert-danger small",children:d}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"email",className:"form-label small fw-medium text-dark",children:"Email Address"}),(0,a.jsxs)("div",{className:"position-relative",children:[(0,a.jsx)("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:(0,a.jsx)("svg",{style:{width:"1.25rem",height:"1.25rem"},className:"text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:e=>r(e.target.value),className:"form-control ps-5 py-3",style:{borderRadius:"0.5rem",transition:"all 0.2s ease"},placeholder:"Enter your email"})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label small fw-medium text-dark",children:"Password"}),(0,a.jsxs)("div",{className:"position-relative",children:[(0,a.jsx)("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:(0,a.jsx)("svg",{style:{width:"1.25rem",height:"1.25rem"},className:"text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:e=>o(e.target.value),className:"form-control ps-5 py-3",style:{borderRadius:"0.5rem",transition:"all 0.2s ease"},placeholder:"Enter your password"})]})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,a.jsxs)("div",{className:"form-check",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-check-input"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"form-check-label small text-muted",children:"Remember me"})]}),(0,a.jsx)("div",{className:"small",children:(0,a.jsx)("a",{href:"#",className:"text-decoration-none fw-medium",style:{color:"#2563eb"},children:"Forgot your password?"})})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("button",{type:"submit",disabled:l,className:"btn btn-primary w-100 py-3 fw-medium",style:{borderRadius:"0.5rem",transition:"all 0.2s ease"},children:l?(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing in..."]}):(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,a.jsx)("svg",{style:{width:"1.25rem",height:"1.25rem"},className:"me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign in"]})})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"small text-muted mb-0",children:"Â© 2025 Suncity Projects. All rights reserved."})})]})]})})})})}function m({children:e}){let[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!0),[m,d]=(0,t.useState)(!1);(0,s.useRouter)(),(0,t.useEffect)(()=>{c();let e=()=>{c()},a=()=>{r(!1),d(!1)},t=setInterval(()=>{let e=localStorage.getItem("adminToken");if(e)try{let a=e.split(".");if(3!==a.length){localStorage.removeItem("adminToken"),r(!1);return}let t=JSON.parse(atob(a[1])),s=Math.floor(Date.now()/1e3);t.exp&&t.exp<s&&(localStorage.removeItem("adminToken"),r(!1),d(!0))}catch(e){localStorage.removeItem("adminToken"),r(!1)}},3e5);return window.addEventListener("adminLogin",e),window.addEventListener("adminLogout",a),()=>{window.removeEventListener("adminLogin",e),window.removeEventListener("adminLogout",a),clearInterval(t)}},[]);let c=async()=>{let e=localStorage.getItem("adminToken");if(!e){r(!1),o(!1);return}try{let a=e.split(".");if(3!==a.length){localStorage.removeItem("adminToken"),r(!1),o(!1);return}let t=JSON.parse(atob(a[1])),s=Math.floor(Date.now()/1e3);if(t.exp&&t.exp<s){localStorage.removeItem("adminToken"),r(!1),d(!0),o(!1);return}let n=await fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${e}`}});n.ok?(r(!0),d(!1)):401===n.status?(localStorage.removeItem("adminToken"),r(!1),d(!0)):r(!1)}catch(e){console.error("Auth check error:",e),localStorage.removeItem("adminToken"),r(!1)}finally{o(!1)}},h=async(e,a)=>{try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})});if(t.ok){let e=await t.json();return localStorage.setItem("adminToken",e.token),r(!0),d(!1),window.dispatchEvent(new CustomEvent("adminLogin")),{success:!0}}{let e=await t.json();return{success:!1,message:e.error||"Login failed"}}}catch(e){return console.error("Login error:",e),{success:!1,message:"Network error. Please try again."}}};return i?(0,a.jsx)("div",{className:"admin-panel d-flex align-items-center justify-content-center",style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #eff6ff, #e0e7ff)"},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"spinner mx-auto mb-4",style:{width:"4rem",height:"4rem"}}),(0,a.jsx)("p",{className:"fs-5 text-muted",children:"Loading..."})]})}):n?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsx)(l,{onLogin:h,errorMessage:m?"Your session has expired. Please log in again.":void 0})}function d({children:e}){let[r,i]=(0,t.useState)(!1),l=(0,s.useRouter)();return(0,t.useEffect)(()=>{localStorage.getItem("adminToken")&&i(!0);let e=()=>{i(!0)},a=()=>{i(!1)};return window.addEventListener("adminLogin",e),window.addEventListener("adminLogout",a),()=>{window.removeEventListener("adminLogin",e),window.removeEventListener("adminLogout",a)}},[]),(0,a.jsx)(m,{children:(0,a.jsxs)("div",{className:"admin-panel",style:{minHeight:"100vh",backgroundColor:"#f9fafb"},children:[(0,a.jsx)(n,{onLogout:()=>{window.confirm("Are you sure you want to logout?")&&(localStorage.removeItem("adminToken"),window.dispatchEvent(new CustomEvent("adminLogout")),l.push("/admin"))},onMenuToggle:()=>i(!r)}),(0,a.jsxs)("div",{className:"d-flex",style:{paddingTop:"4rem"},children:[(0,a.jsx)(o,{isOpen:r,onClose:()=>i(!1)}),(0,a.jsx)("main",{className:"flex-fill",style:{transition:"all 0.3s ease"},children:(0,a.jsx)("div",{className:"p-4",children:e})})]})]})})}e.s(["default",()=>d],8374)}]);