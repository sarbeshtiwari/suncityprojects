(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23261,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016);let r=[{title:"Total Submissions",href:"/admin",value:"totalSubmissions",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-600"},{title:"Contact Forms",href:"/admin/contacts",value:"contactCount",icon:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-600"},{title:"Career Applications",href:"/admin/careers",value:"careerCount",icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6",color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-600"},{title:"Channel Partners",href:"/admin/channel-partners",value:"channelPartnerCount",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",color:"bg-yellow-500",bgColor:"bg-yellow-50",textColor:"text-yellow-600"},{title:"Grievances",href:"/admin/grievances",value:"grievanceCount",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z",color:"bg-red-500",bgColor:"bg-red-50",textColor:"text-red-600"},{title:"Project Enquiries",href:"/admin/project-enquiries",value:"projectEnquiryCount",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",color:"bg-indigo-500",bgColor:"bg-indigo-50",textColor:"text-indigo-600"}];function n({data:e,onLogout:s}){if(!e)return(0,t.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"16rem"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"spinner mx-auto mb-4",style:{width:"3rem",height:"3rem"}}),(0,t.jsx)("p",{className:"text-muted",children:"Loading dashboard data..."})]})});let n=[...e.recentSubmissions.contacts.map(e=>({...e,type:"Contact",typeColor:"bg-success text-white"})),...e.recentSubmissions.careers.map(e=>({...e,type:"Career",typeColor:"bg-info text-white"})),...e.recentSubmissions.channelPartners.map(e=>({...e,type:"Channel Partner",typeColor:"bg-warning text-dark"})),...e.recentSubmissions.grievances.map(e=>({...e,type:"Grievance",typeColor:"bg-danger text-white"})),...e.recentSubmissions.projectEnquiries.map(e=>({...e,type:"Project Enquiry",typeColor:"bg-primary text-white"}))].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,10);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-primary text-white rounded-3 p-4 mb-4",style:{background:"linear-gradient(to right, #2563eb, #1d4ed8)"},children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"h3 fw-bold mb-2",children:"Welcome back, Admin!"}),(0,t.jsx)("p",{className:"mb-0",style:{color:"#93c5fd"},children:"Here's what's happening with your forms today."})]}),(0,t.jsx)("div",{className:"d-none d-md-block",children:(0,t.jsxs)("div",{className:"text-end",children:[(0,t.jsx)("p",{className:"display-4 fw-bold mb-0",children:e.stats.totalSubmissions}),(0,t.jsx)("p",{className:"mb-0",style:{color:"#93c5fd"},children:"Total Submissions"})]})})]})}),(0,t.jsx)("div",{className:"row g-4 mb-4",children:r.map((s,r)=>(0,t.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,t.jsx)("div",{className:"card h-100 shadow-sm border-0",style:{transition:"box-shadow 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",children:(0,t.jsxs)("div",{className:"card-body p-4",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"small fw-medium text-muted mb-1",children:s.title}),(0,t.jsx)("p",{className:"h4 fw-bold text-dark mb-0",children:e.stats[s.value]})]}),(0,t.jsx)("div",{className:`${s.bgColor} p-3 rounded`,style:{backgroundColor:s.bgColor.includes("blue")?"#dbeafe":s.bgColor.includes("green")?"#dcfce7":s.bgColor.includes("purple")?"#f3e8ff":s.bgColor.includes("yellow")?"#fef3c7":s.bgColor.includes("red")?"#fee2e2":"#e0e7ff"},children:(0,t.jsx)("svg",{style:{width:"1.5rem",height:"1.5rem"},className:s.textColor,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s.icon})})})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(a.default,{href:`${s.href.toLowerCase().replace(/\s+/g,"-").replace("total-submissions","")}`,className:`small fw-medium text-decoration-none ${s.textColor}`,style:{color:s.textColor.includes("blue")?"#1e40af":s.textColor.includes("green")?"#166534":s.textColor.includes("purple")?"#7c3aed":s.textColor.includes("yellow")?"#92400e":s.textColor.includes("red")?"#991b1b":"#1e40af"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:"View details â†’"})})]})})},r))}),(0,t.jsxs)("div",{className:"card shadow-sm border-0 mb-4",children:[(0,t.jsx)("div",{className:"card-header bg-white border-bottom",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)("h3",{className:"h5 fw-semibold text-dark mb-0",children:"Recent Submissions"}),(0,t.jsx)(a.default,{href:"/admin/recent",className:"small fw-medium text-decoration-none",style:{color:"#2563eb"},onMouseEnter:e=>e.currentTarget.style.color="#1d4ed8",onMouseLeave:e=>e.currentTarget.style.color="#2563eb",children:"View all"})]})}),(0,t.jsx)("div",{className:"card-body p-0",children:n.length>0?n.map((e,s)=>(0,t.jsx)("div",{className:"p-4 border-bottom",style:{transition:"background-color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("div",{className:"rounded-circle bg-light d-flex align-items-center justify-content-center me-3",style:{width:"2.5rem",height:"2.5rem"},children:(0,t.jsx)("span",{className:"small fw-medium text-muted",children:e.name?.charAt(0)||"N"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"small fw-medium text-dark mb-0",children:e.name}),(0,t.jsx)("p",{className:"small text-muted mb-0",children:e.email})]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsx)("span",{className:`badge ${e.typeColor}`,children:e.type}),(0,t.jsx)("span",{className:"small text-muted",children:new Date(e.createdAt).toLocaleDateString()})]})]})},s)):(0,t.jsxs)("div",{className:"p-5 text-center",children:[(0,t.jsx)("svg",{style:{width:"3rem",height:"3rem"},className:"mx-auto text-muted mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("h3",{className:"small fw-medium text-dark",children:"No submissions yet"}),(0,t.jsx)("p",{className:"small text-muted",children:"Form submissions will appear here once users start submitting."})]})})]}),(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsx)("div",{className:"col-md-6 col-lg-3",children:(0,t.jsx)(a.default,{href:"/admin/contacts",className:"card text-decoration-none h-100",style:{transition:"box-shadow 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[(0,t.jsx)("div",{className:"text-success mb-2",children:(0,t.jsx)("svg",{style:{width:"2rem",height:"2rem"},className:"mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,t.jsx)("p",{className:"small fw-medium text-dark mb-0",children:"Contact Forms"})]})})}),(0,t.jsx)("div",{className:"col-md-6 col-lg-3",children:(0,t.jsx)(a.default,{href:"/admin/careers",className:"card text-decoration-none h-100",style:{transition:"box-shadow 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[(0,t.jsx)("div",{className:"text-info mb-2",children:(0,t.jsx)("svg",{style:{width:"2rem",height:"2rem"},className:"mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),(0,t.jsx)("p",{className:"small fw-medium text-dark mb-0",children:"Career Applications"})]})})}),(0,t.jsx)("div",{className:"col-md-6 col-lg-3",children:(0,t.jsx)(a.default,{href:"/admin/channel-partners",className:"card text-decoration-none h-100",style:{transition:"box-shadow 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[(0,t.jsx)("div",{className:"text-warning mb-2",children:(0,t.jsx)("svg",{style:{width:"2rem",height:"2rem"},className:"mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,t.jsx)("p",{className:"small fw-medium text-dark mb-0",children:"Channel Partners"})]})})}),(0,t.jsx)("div",{className:"col-md-6 col-lg-3",children:(0,t.jsx)(a.default,{href:"/admin/grievances",className:"card text-decoration-none h-100",style:{transition:"box-shadow 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[(0,t.jsx)("div",{className:"text-danger mb-2",children:(0,t.jsx)("svg",{style:{width:"2rem",height:"2rem"},className:"mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsx)("p",{className:"small fw-medium text-dark mb-0",children:"Grievances"})]})})})]})]})}function o(){let[e,a]=(0,s.useState)(!0),[r,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{l()},[]);let l=async()=>{try{let e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();o(e)}}catch(e){console.error("Error fetching dashboard data:",e)}finally{a(!1)}};return e?(0,t.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{minHeight:"50vh"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"spinner mx-auto mb-4",style:{width:"3rem",height:"3rem"}}),(0,t.jsx)("p",{className:"text-muted",children:"Loading dashboard..."})]})}):(0,t.jsx)(n,{data:r,onLogout:()=>{window.confirm("Are you sure you want to logout?")&&(localStorage.removeItem("adminToken"),window.dispatchEvent(new CustomEvent("adminLogout")),window.location.href="/admin")}})}e.s(["default",()=>o],23261)}]);