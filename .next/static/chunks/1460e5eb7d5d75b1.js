(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95592,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(22016),l=e.i(18566);function i(){(0,l.useRouter)();let[e,i]=(0,t.useState)([]),[r,n]=(0,t.useState)(!0);(0,t.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await fetch("/api/admin/events"),s=await e.json();s.success&&i(s.data)}catch(e){console.error("Error fetching events:",e)}finally{n(!1)}},c=async(e,s)=>{if(confirm(`Are you sure you want to delete "${s}"?`))try{let s=await fetch(`/api/events/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}}),t=await s.json();t.success?(alert("Event deleted successfully!"),d()):alert("Failed to delete event: "+t.error)}catch(e){console.error("Error deleting event:",e),alert("Error deleting event")}},h=async(e,s)=>{try{let t=await fetch("/api/events/updateStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e,isActive:!s})}),a=await t.json();a.success?i(t=>t.map(t=>t._id===e?{...t,isActive:!s,isPublished:!s}:t)):alert(a.message||"Failed to update status")}catch(e){console.error("Error updating project status:",e),alert("Error updating project status")}};return(0,s.jsxs)("div",{className:"w-100",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"h2 fw-bold text-dark mb-1",children:"Events Management"}),(0,s.jsx)("p",{className:"text-muted mb-0",children:"Manage all events and activities"})]}),(0,s.jsxs)(a.default,{href:"/admin/events/add",className:"btn btn-primary d-inline-flex align-items-center px-3 py-2",children:[(0,s.jsx)("i",{className:"fas fa-plus me-2"}),"Add New Event"]})]}),(0,s.jsx)("div",{className:"card shadow-sm",children:(0,s.jsx)("div",{className:"card-body p-0",children:r?(0,s.jsxs)("div",{className:"text-center py-5",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3",children:"Loading events..."})]}):0===e.length?(0,s.jsx)("div",{className:"text-center py-5",children:(0,s.jsxs)("div",{className:"alert alert-info",role:"alert",children:[(0,s.jsx)("h4",{className:"alert-heading",children:"No Events Found"}),(0,s.jsx)("p",{children:"There are no events available at the moment."}),(0,s.jsx)(a.default,{href:"/admin/events/add",className:"btn btn-primary",children:"Add First Event"})]})}):(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover mb-0",children:[(0,s.jsx)("thead",{className:"table-light",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border-0",children:"Event"}),(0,s.jsx)("th",{className:"border-0",children:"Gallery Images"}),(0,s.jsx)("th",{className:"border-0",children:"Status"}),(0,s.jsx)("th",{className:"border-0",children:"Created"}),(0,s.jsx)("th",{className:"border-0",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("div",{children:(0,s.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title})})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[e.galleryImages.length>0?(0,s.jsx)("img",{src:e.galleryImages[0].thumbnail,alt:e.title,className:"rounded me-2",style:{width:"40px",height:"40px",objectFit:"cover"}}):(0,s.jsx)("div",{className:"bg-light rounded me-2 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,s.jsx)("i",{className:"fa fa-image text-muted"})}),(0,s.jsxs)("span",{className:"small text-muted",children:[e.galleryImages.length," images"]})]})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:`badge rounded-pill border-0 px-3 py-2 ${e.isActive?"bg-success":"bg-danger"}`,style:{cursor:"pointer"},onClick:()=>h(e._id,e.isActive),children:(0,s.jsx)("span",{className:`badge rounded-pill ${e.isActive?"bg-success":"bg-danger"}`,children:e.isActive?"Active":"Inactive"})})}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"text-muted small",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsx)(a.default,{href:`/admin/events/edit/${e.slug}`,className:"btn btn-sm btn-outline-primary",children:(0,s.jsx)("i",{className:"fas fa-edit"})}),(0,s.jsx)("button",{onClick:()=>c(e.slug,e.title),className:"btn btn-sm btn-outline-danger",children:(0,s.jsx)("i",{className:"fas fa-trash"})})]})})]},e._id))})]})})})})]})}e.s(["default",()=>i])}]);