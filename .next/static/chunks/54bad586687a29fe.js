(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47283,e=>{"use strict";var s=e.i(43476);function a(){return(0,s.jsx)("div",{className:"col-lg-6 hm-featured-slide",children:(0,s.jsx)("div",{className:"inner",children:(0,s.jsxs)("div",{className:"row h-100 flex-column",children:[(0,s.jsx)("div",{className:"hm-featured-slide-img col-12",children:(0,s.jsx)("div",{className:"skeleton skeleton-img"})}),(0,s.jsx)("div",{className:"hm-featured-slide-text-container col-12 flex-grow-1",children:(0,s.jsxs)("div",{className:"hm-featured-slide-text",children:[(0,s.jsxs)("div",{className:"project-text",children:[(0,s.jsx)("div",{className:"skeleton skeleton-title mb-3"}),(0,s.jsx)("div",{className:"skeleton skeleton-line w-50 mb-2"}),(0,s.jsx)("div",{className:"skeleton skeleton-line w-100 mb-2"}),(0,s.jsx)("div",{className:"skeleton skeleton-line w-90 mb-4"}),(0,s.jsx)("div",{className:"skeleton skeleton-button"})]}),(0,s.jsxs)("div",{className:"project-icons d-flex gap-3 mt-4",children:[(0,s.jsx)("div",{className:"skeleton skeleton-icon"}),(0,s.jsx)("div",{className:"skeleton skeleton-icon"}),(0,s.jsx)("div",{className:"skeleton skeleton-icon"})]})]})})]})})})}e.s(["default",()=>a])},5773,e=>{"use strict";var s=e.i(43476),a=e.i(22016),t=e.i(71645),r=e.i(18566);function l({placeholder:e="Project Name/ Location",showTrendingProperties:l=!0}){let i=(0,r.useRouter)(),[c,n]=(0,t.useState)(""),[o,d]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)([]),[j,u]=(0,t.useState)(!1),[f,N]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[b,w]=(0,t.useState)(!1),[y,S]=(0,t.useState)(!1),L=e=>{e.preventDefault();let s=new URLSearchParams;if(c.trim()){let e=c.trim().replace(/\bgur[a-z]*\b/gi,"Gurgaon").replace(/\bugram\b/gi,"Gurgaon").replace(/\bugra\b/gi,"Gurgaon").replace(/\bgra\b/gi,"Gurgaon").replace(/\bram\b/gi,"Gurgaon").replace(/\bgram\b/gi,"Gurgaon");s.set("search",e)}o&&s.set("propertyType",o),m&&s.set("city",m);let a=s.toString();i.push(`/projects${a?`?${a}`:""}`),P()};(0,t.useEffect)(()=>{sessionStorage.getItem("propertySearchInitialized")||(n(""),d(""),h(""),v([]),w(!1),sessionStorage.setItem("propertySearchInitialized","true"))},[]),(0,t.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=new URLSearchParams(window.location.search);(e.has("search")||e.has("propertyType")||e.has("city"))&&(window.history.replaceState({},"",window.location.pathname),n(""),d(""),h(""),v([]),w(!1))},200)};return window.addEventListener("searchFormOpen",e),()=>{window.removeEventListener("searchFormOpen",e)}},[]),(0,t.useEffect)(()=>{(async()=>{try{u(!0);let e=await fetch("/api/locations"),s=await e.json();s.success&&(x(s.data),N(s.data))}catch(e){console.error("Error fetching locations:",e)}finally{u(!1)}})()},[]),(0,t.useEffect)(()=>()=>{sessionStorage.removeItem("propertySearchInitialized")},[]),(0,t.useEffect)(()=>{let e=()=>{"/"===window.location.pathname&&""===window.location.search&&(n(""),d(""),h(""),v([]),w(!1))};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]);let k=async e=>{if(!e)return void N(p);try{w(!0);let s=await fetch(`/api/projects/locations?propertyType=${encodeURIComponent(e)}`),a=await s.json();a.success&&(N(a.data),0===a.data.length&&h(""))}catch(e){console.error("Error fetching filtered locations:",e),N(p),h("")}finally{w(!1)}},C=async e=>{if(!e)return void v([]);try{w(!0);let s=await fetch(`/api/projects/property-types?city=${encodeURIComponent(e)}`),a=await s.json();a.success&&(v(a.data),0===a.data.length&&d(""))}catch(e){console.error("Error fetching available property types:",e),v([]),d("")}finally{w(!1)}},P=()=>{setTimeout(()=>{window.closeSearch&&window.closeSearch()},100)};return(0,s.jsx)("div",{className:"row g-0 justify-content-center position-relative mb-5",style:{zIndex:2},"data-aos":"fade-in",children:(0,s.jsxs)("div",{className:"col-xxl-6 col-lg-8 col-md-11 search-bar position-relative",children:[(0,s.jsxs)("button",{className:"p-3 bg-white shadow rounded-0 w-100 border-0 d-flex align-items-center justify-content-between",onClick:()=>window.openSearch&&window.openSearch(),children:[(0,s.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,s.jsx)("i",{className:"icon",children:(0,s.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"none",stroke:"var(--primary-color)",width:"1.25rem"},children:[(0,s.jsx)("path",{d:"M18.3,17.3c-0.3,0.3-0.6,0.7-1,1l5.5,5.5C23,24,23.2,24,23.3,24c0.1,0,0.3,0,0.5-0.2c0.2-0.2,0.2-0.4,0.2-0.5   c0-0.1,0-0.3-0.2-0.5L18.3,17.3L18.3,17.3z"}),(0,s.jsx)("circle",{cx:"10.3",cy:"10.3",r:"10"})]})}),(0,s.jsxs)("span",{className:"small text-uppercase",children:["Find Your Dream ",(0,s.jsx)("span",{className:"text-primary",children:"Property"})]})]}),(0,s.jsx)("div",{className:"icon-button spin mt-0",children:(0,s.jsxs)("div",{className:"round-button",children:[(0,s.jsx)("div",{className:"circle"}),(0,s.jsx)("i",{className:"fa fa-chevron-right"})]})})]}),(0,s.jsx)("div",{id:"searchFormWrapper",className:"search-form-wrapper bg-white shadow position-absolute top-0 start-0 w-100",children:(0,s.jsx)("div",{className:"search-form p-3",children:(0,s.jsx)("form",{onSubmit:L,children:(0,s.jsxs)("div",{className:"row justify-content-center gx-2 gy-4",children:[(0,s.jsxs)("div",{className:"col-12 search-field",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center gap-3 border-bottom",children:[(0,s.jsx)("i",{className:"icon",children:(0,s.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"none",stroke:"var(--primary-color)",width:"1.5rem"},children:[(0,s.jsx)("path",{d:"M18.3,17.3c-0.3,0.3-0.6,0.7-1,1l5.5,5.5C23,24,23.2,24,23.3,24c0.1,0,0.3,0,0.5-0.2c0.2-0.2,0.2-0.4,0.2-0.5   c0-0.1,0-0.3-0.2-0.5L18.3,17.3L18.3,17.3z"}),(0,s.jsx)("circle",{cx:"10.3",cy:"10.3",r:"10"})]})}),(0,s.jsxs)("div",{className:"form-floating col",children:[(0,s.jsx)("input",{type:"text",className:"form-control",id:"searchProperty",placeholder:"",value:c,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&L(e)}}),(0,s.jsx)("label",{className:"small text-uppercase text-golden",htmlFor:"searchProperty",children:e})]}),(0,s.jsx)("button",{type:"button",className:"p-0 btn icon-button mt-0",onClick:e=>{e.preventDefault(),window.closeSearch&&window.closeSearch()},children:(0,s.jsxs)("div",{className:"round-button me-0",children:[(0,s.jsx)("div",{className:"circle"}),(0,s.jsx)("i",{className:"fa fa-chevron-up"})]})})]}),l&&(0,s.jsxs)("div",{className:"trending-capsule p-3 bg-light",children:[(0,s.jsx)("small",{children:"Trending Properties"}),(0,s.jsxs)("div",{className:"d-flex flex-wrap gap-2 mt-3",children:[(0,s.jsxs)(a.default,{href:"/projects/jewel-of-india",className:"btn btn-sm btn-outline-primary rounded-pill",children:["Jewel of India ",(0,s.jsx)("small",{children:"Phase-II"})]}),(0,s.jsx)(a.default,{href:"/projects/jewel-tower",className:"btn btn-sm btn-outline-primary rounded-pill",children:"Jewel Tower"}),(0,s.jsx)(a.default,{href:"/projects/suncity-ultima",className:"btn btn-sm btn-outline-primary rounded-pill",children:"Suncity Ultima"}),(0,s.jsx)(a.default,{href:"/projects/the-empire",className:"btn btn-sm btn-outline-primary rounded-pill",onClick:()=>{i.push(`/projects?search=${encodeURIComponent("The Empire")}`),P()},children:"The Empire"}),(0,s.jsx)(a.default,{href:"/projects/jewel-farms",className:"btn btn-sm btn-outline-primary rounded-pill",children:"Jewel Farms"}),(0,s.jsx)(a.default,{href:"/projects/the-empire-centre",className:"btn btn-sm btn-outline-primary rounded-pill",children:"The Empire Centre"})]})]})]}),(0,s.jsx)("div",{className:"col-sm-6 search-field",children:(0,s.jsxs)("div",{className:"form-floating",children:[(0,s.jsxs)("select",{className:"form-select rounded-0",id:"propertyType","aria-label":"Floating label select example",value:o,onChange:e=>{let s=e.target.value;d(s),k(s)},disabled:b||!!m&&0===g.length,onFocus:e=>{e.stopPropagation(),S(!1)},onBlur:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),S(!1)},children:[(0,s.jsx)("option",{value:"",children:m&&0===g.length?"No projects in this location":"Select Property Type"}),g.length>0?g.map(e=>(0,s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)):m?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("option",{value:"residential",children:"Residential"}),(0,s.jsx)("option",{value:"commercial",children:"Commercial"}),(0,s.jsx)("option",{value:"retail",children:"Retail"}),(0,s.jsx)("option",{value:"education",children:"Education"})]})]}),(0,s.jsx)("label",{className:"small text-uppercase",htmlFor:"propertyType",children:b?"Loading...":"Property Type"})]})}),(0,s.jsx)("div",{className:"col-sm-6 search-field",children:(0,s.jsxs)("div",{className:"form-floating",children:[(0,s.jsxs)("select",{className:"form-select rounded-0",id:"location","aria-label":"Floating label select example",value:m,onChange:e=>{let s=e.target.value;h(s),C(s)},disabled:j||b||!!o&&0===f.length,onFocus:e=>{e.stopPropagation(),S(!1)},onBlur:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),S(!1)},children:[(0,s.jsx)("option",{value:"",children:o&&0===f.length?"No locations for this property type":"Choose Location"}),f.length>0?[...new Set(f.map(e=>e.city))].sort().map(e=>(0,s.jsx)("option",{value:e,children:e},e)):o?null:[...new Set(p.map(e=>e.city))].sort().map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("label",{className:"small text-uppercase",htmlFor:"location",children:j||b?"Loading Locations...":"Location"})]})}),(0,s.jsx)("div",{className:"col-sm-3",children:(0,s.jsxs)("div",{className:"readmore mt-0",children:[(0,s.jsx)("button",{type:"submit",className:"button w-100 mw-100 mx-auto",children:"Apply"}),(0,s.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100 mt-2",onClick:()=>{y||(S(!0),n(""),d(""),h(""),N(p),v([]),w(!1),setTimeout(()=>{S(!1)},100))},children:"Reset"})]})})]})})})})]})})}e.s(["default",()=>l])},39012,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),r=e.i(5773),l=e.i(22016),i=e.i(47283);function c(){let[e,c]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[d,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),[x,j]=(0,a.useState)(""),[u,f]=(0,a.useState)(""),[N,g]=(0,a.useState)(""),v=(0,t.useSearchParams)();(0,a.useEffect)(()=>{b()},[]),(0,a.useEffect)(()=>{let e=v.get("search"),s=v.get("propertyType"),a=v.get("city");j(e||""),f(s||""),g(a||""),y(e||"",s||"",a||"")},[v,e]),(0,a.useEffect)(()=>{e.length>0&&setTimeout(()=>{let e=window.AOS;e&&e.refresh()},100)},[e]);let b=async()=>{try{m(!0);let e=await fetch("/api/projects"),s=await e.json();s.success?(c(s.data),o(s.data)):p("Failed to fetch projects")}catch(e){p("Error fetching projects"),console.error("Error fetching projects:",e)}finally{m(!1)}},w=async(e,s)=>{try{m(!0);let a=new URLSearchParams;e&&a.set("propertyType",e),s&&a.set("city",s);let t=await fetch(`/api/projects/filter?${a.toString()}`),r=await t.json();r.success?o(r.data):p("Failed to fetch filtered projects")}catch(e){p("Error fetching filtered projects"),console.error("Error fetching filtered projects:",e)}finally{m(!1)}},y=(e,s,a)=>{s||a?w(s,a):S(e)},S=s=>{s.trim()?o(e.filter(e=>{let a=e.projectName.toLowerCase().includes(s.toLowerCase()),t=e.projectLocation&&"object"==typeof e.projectLocation&&(e.projectLocation.name?.toLowerCase().includes(s.toLowerCase())||e.projectLocation.city?.toLowerCase().includes(s.toLowerCase())||e.projectLocation.state?.toLowerCase().includes(s.toLowerCase()));return a||t})):o(e)};return d?(0,s.jsxs)("main",{children:[(0,s.jsx)("div",{className:"emptyBox"}),(0,s.jsx)("div",{className:"breadcrumbWrapper",children:(0,s.jsx)("div",{className:"container-lg",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(l.default,{href:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item active",children:"Projects"})]})})}),(0,s.jsx)("div",{className:"w-100 padding section-portfolio bg-white",children:(0,s.jsxs)("div",{className:"container-lg",children:[(0,s.jsx)("div",{className:"heading text-center mx-auto",children:(0,s.jsx)("div",{className:"skeleton skeleton-heading mx-auto mb-4"})}),(0,s.jsx)("div",{className:"projectContainer",children:(0,s.jsx)("div",{className:"row gy-5",children:Array.from({length:4}).map((e,a)=>(0,s.jsx)(i.default,{},a))})})]})})]}):h?(0,s.jsxs)("main",{children:[(0,s.jsx)("div",{className:"emptyBox"}),(0,s.jsx)("div",{className:"breadcrumbWrapper",children:(0,s.jsx)("div",{className:"container-lg","data-aos":"fade-in",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(l.default,{href:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item active",children:"Projects"})]})})}),(0,s.jsx)("div",{className:"w-100 padding overflow-hidden position-relative section-portfolio bg-white",children:(0,s.jsx)("div",{className:"container-lg",children:(0,s.jsx)("div",{className:"text-center py-5",children:(0,s.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,s.jsx)("h4",{className:"alert-heading",children:"Error!"}),(0,s.jsx)("p",{children:h}),(0,s.jsx)("div",{className:"readmore",children:(0,s.jsx)("button",{className:"button button-sm",onClick:b,children:"Try Again"})})]})})})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("main",{children:[(0,s.jsx)("div",{className:"emptyBox"}),(0,s.jsx)("div",{className:"breadcrumbWrapper",children:(0,s.jsx)("div",{className:"container-lg","data-aos":"fade-in",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(l.default,{href:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item active",children:"Projects"})]})})}),(0,s.jsx)("div",{className:"w-100 padding overflow-hidden position-relative section-portfolio bg-white",children:(0,s.jsxs)("div",{className:"container-lg",children:[(0,s.jsx)(r.default,{placeholder:"Project Name/ Location",showTrendingProperties:!0}),(0,s.jsx)("div",{className:"heading text-center mx-auto","data-aos":"fade-in",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"title-xxl text-primary mb-0",children:"Search Results"}),(0,s.jsxs)("p",{className:"text-muted mt-2",children:["Showing ",n.length," project",1!==n.length?"s":"",' for "',x,'"']})]}):(0,s.jsx)("h1",{className:"title-xxl text-primary mb-0",children:"Featured Projects"})}),(0,s.jsx)("div",{className:"projectContainer","data-aos":"fade-in",children:(0,s.jsx)("div",{className:"project-slider",children:(0,s.jsx)("div",{className:"row gy-5",children:0===n.length?(0,s.jsx)("div",{className:"col-12 text-center",children:(0,s.jsxs)("div",{className:"alert bg-light py-5",role:"alert",children:[(0,s.jsx)("h4",{className:"alert-heading",children:x?"No Projects Found":"No Projects Available"}),(0,s.jsx)("p",{children:x?`No projects found for "${x}". Try a different search term.`:"There are no projects available at the moment."}),x&&(0,s.jsx)("div",{className:"readmore",children:(0,s.jsx)(l.default,{href:"/projects",className:"button button-sm mx-auto",children:"View All Projects"})})]})}):n.map((e,a)=>(0,s.jsx)("div",{className:"col-lg-6 hm-featured-slide",children:(0,s.jsx)(l.default,{href:`/projects/${e.slug}`,className:"inner",children:(0,s.jsxs)("div",{className:"row h-100 flex-column",children:[(0,s.jsx)("div",{className:"hm-featured-slide-img col-md-12 col-12",children:(0,s.jsxs)("div",{className:"img-fluid overflow-hidden position-relative",children:[(0,s.jsx)("span",{className:`badge ${(e=>{switch(e.toLowerCase()){case"residential":case"commercial":case"retail":case"education":default:return"bg-white text-dark";case"delivered":return"bg-secondary"}})(e.category)} rounded-pill position-absolute start-0 top-0 m-3 fw-normal`,children:e.category.toUpperCase()}),(0,s.jsx)("img",{src:e.projectThumbnail||"/images/project-thumbs/default.webp",alt:e.projectName})]})}),(0,s.jsx)("div",{className:"hm-featured-slide-text-container col-md-12 col-12 flex-grow-1",children:(0,s.jsxs)("div",{className:"hm-featured-slide-text",children:[(0,s.jsxs)("div",{className:"project-text",children:[(0,s.jsx)("div",{className:"featured-box-heading mb-3",children:(0,s.jsx)("h2",{className:"h2 fw-light text-primary mb-0",children:e.projectName})}),(0,s.jsxs)("p",{className:"text-primary d-flex align-items-center flex-wrap gap-2",children:[(0,s.jsx)("i",{className:"fa fa-shield-halved"})," ",e.reraNumber]}),(0,s.jsx)("p",{className:"d-block",children:e.shortDescription}),(0,s.jsxs)("div",{className:"icon-button",children:[(0,s.jsxs)("div",{className:"round-button",children:[(0,s.jsx)("div",{className:"circle"}),(0,s.jsx)("i",{className:"fa fa-chevron-right"})]})," LEARN MORE"]})]}),(0,s.jsxs)("div",{className:"project-icons",children:[(0,s.jsx)("div",{className:"icon-item",children:(0,s.jsxs)("div",{className:"in",children:[(0,s.jsx)("div",{className:"icon",children:(0,s.jsx)("img",{src:"/images/icons/location.svg",alt:""})}),(0,s.jsxs)("p",{className:"mb-0",children:[(0,s.jsx)("small",{className:"d-block",children:"Location"}),(0,s.jsx)("span",{children:"string"==typeof e.projectLocation?e.projectLocation:String(e.projectLocation?.name||"Location")})]})]})}),(0,s.jsx)("div",{className:"icon-item",children:(0,s.jsxs)("div",{className:"in",children:[(0,s.jsx)("div",{className:"icon",children:(0,s.jsx)("img",{src:"/images/icons/project-status.svg",alt:""})}),(0,s.jsxs)("p",{className:"mb-0",children:[(0,s.jsx)("small",{className:"d-block",children:"Status"}),(0,s.jsx)("span",{className:(e=>{switch(e.toLowerCase()){case"ongoing":case"completed":return"text-primary";case"delivered":return"text-secondary";default:return"text-muted"}})(e.status),children:e.status})]})]})}),(0,s.jsx)("div",{className:"icon-item",children:(0,s.jsxs)("div",{className:"in",children:[(0,s.jsx)("div",{className:"icon",children:(0,s.jsx)("img",{src:"/images/icons/area.svg",alt:""})}),(0,s.jsxs)("p",{className:"mb-0",children:[(0,s.jsx)("small",{className:"d-block",children:"Area"}),(0,s.jsx)("span",{children:e.area})]})]})})]})]})})]})})},e._id))})})})]})})]})})}function n(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"container-lg py-5",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3",children:"Loading projects..."})]})}),children:(0,s.jsx)(c,{})})}e.s(["default",()=>n])}]);