(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,73765,e=>{"use strict";var t=e.i(71645);let s=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:n="",children:c,iconNode:d,...o},m)=>(0,t.createElement)("svg",{ref:m,...r,width:a,height:a,stroke:e,strokeWidth:l?24*Number(i)/Number(a):i,className:s("lucide",n),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(c)?c:[c]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...n},c)=>(0,t.createElement)(i,{ref:c,iconNode:r,className:s(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=a(e),l};e.s(["default",()=>l],75254);let n=l("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>n],73765)},7237,e=>{"use strict";var t=e.i(73765);e.s(["TrashIcon",()=>t.default])},8780,e=>{"use strict";let t=(0,e.i(75254).default)("file-pen-line",[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);e.s(["FilePenLine",()=>t],8780)},79026,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(8780),i=e.i(7237);function l(){let[e,l]=(0,s.useState)([]),[n,c]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[m,h]=(0,s.useState)(""),[u,x]=(0,s.useState)("");(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{""===u.trim()?c(e):c(e.filter(e=>e.caption.toLowerCase().includes(u.toLowerCase())))},[e,u]);let p=async()=>{try{let e=await fetch("/api/amenities"),t=await e.json();t.success?(l(t.data),c(t.data)):h("Failed to fetch amenities")}catch(e){h("Error fetching amenities")}finally{o(!1)}},j=async t=>{if(confirm("Are you sure you want to delete this amenity?"))try{let s=await fetch(`/api/amenities/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}}),a=await s.json();a.success?l(e.filter(e=>e._id!==t)):alert("Failed to delete amenity: "+a.error)}catch(e){alert("Error deleting amenity")}};return d?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"h2 fw-bold text-dark mb-1",children:"Amenities"}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Manage project amenities"})]}),(0,t.jsx)(a.default,{href:"/admin/amenities/add",className:"btn btn-primary",children:"Add New Amenity"})]}),(0,t.jsx)("div",{className:"card shadow-sm mb-4",children:(0,t.jsx)("div",{className:"card-body p-3",children:(0,t.jsxs)("div",{className:"row g-2",children:[(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.jsx)("path",{d:"m21 21-4.35-4.35"})]})}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Search amenities by caption...",value:u,onChange:e=>x(e.target.value)}),u&&(0,t.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>x(""),children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("span",{className:"text-muted small",children:[n.length," of ",e.length," amenities",u&&` matching "${u}"`]})})]})})}),m&&(0,t.jsx)("div",{className:"alert alert-danger",role:"alert",children:m}),(0,t.jsxs)("div",{className:"card shadow-sm",children:[(0,t.jsx)("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover align-middle mb-0",children:[(0,t.jsx)("thead",{className:"table-light",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"text-uppercase small text-muted",children:"Image"}),(0,t.jsx)("th",{scope:"col",className:"text-uppercase small text-muted",children:"Caption"}),(0,t.jsx)("th",{scope:"col",className:"text-uppercase small text-muted",children:"Created"}),(0,t.jsx)("th",{scope:"col",className:"text-uppercase small text-muted",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:n.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.image&&(0,t.jsx)("img",{src:e.image,alt:e.caption,className:"rounded",style:{height:"2.5rem",width:"2.5rem",objectFit:"cover"}})}),(0,t.jsx)("td",{className:"text-dark",children:(0,t.jsx)("div",{className:"small text-muted",style:{maxWidth:"200px"},children:e.caption})}),(0,t.jsx)("td",{className:"text-dark",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsx)(a.default,{href:`/admin/amenities/edit/${e._id}`,className:"btn btn-sm btn-primary p-1",style:{width:"2rem",height:"2rem"},children:(0,t.jsx)(r.FilePenLine,{style:{width:"1rem",height:"1rem"}})}),(0,t.jsx)("button",{onClick:()=>j(e._id),className:"btn btn-sm btn-danger p-1",style:{width:"2rem",height:"2rem"},children:(0,t.jsx)(i.TrashIcon,{style:{width:"1rem",height:"1rem"}})})]})})]},e._id))})]})}),0===n.length&&(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"text-muted fs-5",children:u?"No amenities found matching your search":"No amenities found"}),(0,t.jsx)("p",{className:"text-secondary mt-2",children:u?"Try adjusting your search terms":"Get started by adding your first amenity"}),u&&(0,t.jsx)("button",{className:"btn btn-outline-primary mt-2",onClick:()=>x(""),children:"Clear Search"})]})]})]})}e.s(["default",()=>l])}]);