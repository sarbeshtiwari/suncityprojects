{"version":3,"sources":["../../../../app/explore-career/page.tsx","../../../../components/OTPVerificationModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport CareerNavigation from '@/components/CareerNavigation';\r\n// import { submitCareerForm } from '../../lib/formHandlers';\r\nimport OTPVerificationModal from '@/components/OTPVerificationModal';\r\nimport Link from 'next/link';\r\n\r\ninterface Job {\r\n  _id?: string;\r\n  position_name: string;\r\n  experience_required: string;\r\n  CTC: string;\r\n  job_responsibilities: string;\r\n  qualifications: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport default function ExploreCareer() {\r\n\tconst [jobs, setJobs] = useState<Job[]>([]);\r\n\tconst [selectedJob, setSelectedJob] = useState<Job | null>(null);\r\n\tconst [mountKey, setMountKey] = useState(Date.now());\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\r\n\tconst [statusMessage, setStatusMessage] = useState('');\r\n\tconst [statusType, setStatusType] = useState<'success' | 'error' | ''>('');\r\n\tconst [fieldErrors, setFieldErrors] = useState<{[key: string]: string}>({});\r\n\t// OTP states\r\n\tconst [showOTPModal, setShowOTPModal] = useState(false);\r\n\tconst [otpMobile, setOtpMobile] = useState('');\r\n\tconst pendingFormDataRef = useRef<FormData | null>(null);\r\n\tconst [formData, setFormData] = useState({\r\n\t\tcrfirstname: '',\r\n\t\tcrlastname: '',\r\n\t\tcrmobile: '',\r\n\t\tcremail: '',\r\n\t\tjobPosition: '',\r\n\t\texperience: '',\r\n\t\tshortdescription: ''\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tconst initCareerPage = () => {\r\n\t\t\tconst applyWrapper = document.querySelector('#applyWrapper') as HTMLElement;\r\n\t\t\tif (applyWrapper) {\r\n\t\t\t\tapplyWrapper.style.display = 'none';\r\n\t\t\t}\r\n\r\n\t\t\t(window as any).applyNow = (funArea: string, jobrole: string) => {\r\n\t\t\t\tconst applyWrapper = document.querySelector('#applyWrapper') as HTMLElement;\r\n\t\t\t\tif (applyWrapper) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tapplyWrapper.style.display = 'block';\r\n\t\t\t\t\t\tapplyWrapper.scrollIntoView({\r\n\t\t\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsetFormData(prev => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\texperience: funArea,\r\n\t\t\t\t\t\t\tjobPosition: jobrole\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}, 400);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (typeof window !== 'undefined' && (window as any).AOS) {\r\n\t\t\t\t(window as any).AOS.init();\r\n\t\t\t}\r\n\r\n\t\t\tconst initBootstrapModals = () => {\r\n\t\t\t\tif (typeof window !== 'undefined' && (window as any).bootstrap) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst modals = document.querySelectorAll('.modal');\r\n\t\t\t\t\t\tmodals.forEach((modal, index) => {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tconst modalInstance = new (window as any).bootstrap.Modal(modal);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tmodal.addEventListener('hidden.bs.modal', function () {\r\n\t\t\t\t\t\t\t\t\tconst backdrop = document.querySelector('.modal-backdrop');\r\n\t\t\t\t\t\t\t\t\tif (backdrop) {\r\n\t\t\t\t\t\t\t\t\t\tbackdrop.remove();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdocument.body.classList.remove('modal-open');\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error(`Error initializing modal ${index + 1}:`, error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('Error during modal initialization:', error);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('Bootstrap not available, retrying in 500ms...');\r\n\t\t\t\t\tsetTimeout(initBootstrapModals, 500);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tinitBootstrapModals();\r\n\r\n\t\t\t(window as any).openModal = (modalId: string) => {\r\n\t\t\t\tconst modal = document.querySelector(modalId) as HTMLElement;\r\n\t\t\t\tif (modal) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (typeof window !== 'undefined' && (window as any).bootstrap) {\r\n\t\t\t\t\t\t\tconst bsModal = new (window as any).bootstrap.Modal(modal);\r\n\t\t\t\t\t\t\tbsModal.show();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmodal.style.display = 'block';\r\n\t\t\t\t\t\t\tmodal.classList.add('show');\r\n\t\t\t\t\t\t\tdocument.body.classList.add('modal-open');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('Error opening modal:', error);\r\n\t\t\t\t\t\tmodal.style.display = 'block';\r\n\t\t\t\t\t\tmodal.classList.add('show');\r\n\t\t\t\t\t\tdocument.body.classList.add('modal-open');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('Modal element not found:', modalId);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\twindow.dispatchEvent(new Event('resize'));\r\n\r\n\t\t};\r\n\r\n\t\tconst timer = setTimeout(initCareerPage, 1000);\r\n\t\treturn () => clearTimeout(timer);\r\n\t}, [mountKey]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchJobs();\r\n\t}, []);\r\n\r\n\tconst fetchJobs = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(\"/api/admin/jobs\");\r\n\t\t\tconst data = await res.json();\r\n\t\t\tsetJobs(data.forms);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(\"Error fetching jobs:\", err);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMountKey(Date.now());\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}, []);\r\n\r\n\tconst clearFieldError = (fieldName: string) => {\r\n\t\tif (fieldErrors[fieldName]) {\r\n\t\t\tsetFieldErrors(prev => {\r\n\t\t\t\tconst newErrors = { ...prev };\r\n\t\t\t\tdelete newErrors[fieldName];\r\n\t\t\t\treturn newErrors;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n\t\tconst { name, value } = e.target;\r\n\t\tsetFormData(prev => ({\r\n\t\t\t...prev,\r\n\t\t\t[name]: value\r\n\t\t}));\r\n\t\tclearFieldError(name);\r\n\t};\r\n\r\n\tconst validateForm = (formData: FormData) => {\r\n\t\tconst errors: {[key: string]: string} = {};\r\n\t\tconst firstName = formData.get('crfirstname') as string;\r\n\t\tconst lastName = formData.get('crlastname') as string;\r\n\t\tconst mobile = formData.get('crmobile') as string;\r\n\t\tconst email = formData.get('cremail') as string;\r\n\t\tconst jobPosition = formData.get('jobPosition') as string;\r\n\t\tconst experience = formData.get('experience') as string;\r\n\r\n\t\tif (!firstName || firstName.trim().length < 2) {\r\n\t\t\terrors.crfirstname = 'First name must be at least 2 characters long';\r\n\t\t}\r\n\t\tif (!lastName || lastName.trim().length < 2) {\r\n\t\t\terrors.crlastname = 'Last name must be at least 2 characters long';\r\n\t\t}\r\n\t\tif (!mobile || mobile.trim().length < 10) {\r\n\t\t\terrors.crmobile = 'Mobile number must be at least 10 digits';\r\n\t\t}\r\n\t\tif (!email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n\t\t\terrors.cremail = 'Please enter a valid email address';\r\n\t\t}\r\n\t\tif (!jobPosition || jobPosition.trim() === '') {\r\n\t\t\terrors.jobPosition = 'Job position is required';\r\n\t\t}\r\n\t\tif (!experience || experience.trim() === '') {\r\n\t\t\terrors.experience = 'Experience is required';\r\n\t\t}\r\n\r\n\t\treturn errors;\r\n\t};\r\n\r\n\tconst handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconsole.log('File selected:', event.target.files?.[0]);\r\n\t};\r\n\r\n\tconst handleCareerSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsSubmitting(true);\r\n\t\tsetStatusMessage('');\r\n\t\tsetFieldErrors({});\r\n\r\n\t\tconst formData = new FormData(e.currentTarget);\r\n\t\t\r\n\t\tconst validationErrors = validateForm(formData);\r\n\t\tif (Object.keys(validationErrors).length > 0) {\r\n\t\t\tsetFieldErrors(validationErrors);\r\n\t\t\tsetStatusMessage('Please correct the errors below');\r\n\t\t\tsetStatusType('error');\r\n\t\t\tsetIsSubmitting(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst mobile = (formData.get('crmobile') as string) || '';\r\n\t\t\tconst resp = await fetch('/api/otp/generate', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify({ mobile })\r\n\t\t\t});\r\n\t\t\tconst data = await resp.json();\r\n\t\t\tif (!resp.ok) {\r\n\t\t\t\tsetStatusMessage(data.error || 'Failed to send OTP. Please try again.');\r\n\t\t\t\tsetStatusType('error');\r\n\t\t\t\tsetIsSubmitting(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tpendingFormDataRef.current = formData;\r\n\t\t\tsetOtpMobile(mobile);\r\n\t\t\tsetShowOTPModal(true);\r\n\t\t} catch (err) {\r\n\t\t\tsetStatusMessage('Failed to send OTP. Please try again.');\r\n\t\t\tsetStatusType('error');\r\n\t\t\tsetIsSubmitting(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst verifyOTP = async (otp: string) => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('/api/otp/verify', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify({ mobile: otpMobile, otp })\r\n\t\t\t});\r\n\t\t\tconst result = await response.json();\r\n\t\t\treturn response.ok && result.verified;\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOTPVerified = async () => {\r\n\t\t// setShowOTPModal(false);\r\n\t\t// setIsSubmitting(true);\r\n\t\t// const formData = pendingFormDataRef.current || new FormData();\r\n\t\t// const result = await submitCareerForm(formData);\r\n\t\t// setStatusMessage(result.message);\r\n\t\t// setStatusType(result.success ? 'success' : 'error');\r\n\t\t// if (result.success) {\r\n\t\t// \tsetFormData({\r\n\t\t// \t\tcrfirstname: '',\r\n\t\t// \t\tcrlastname: '',\r\n\t\t// \t\tcrmobile: '',\r\n\t\t// \t\tcremail: '',\r\n\t\t// \t\tjobPosition: '',\r\n\t\t// \t\texperience: '',\r\n\t\t// \t\tshortdescription: ''\r\n\t\t// \t});\r\n\t\t// \tsetFieldErrors({});\r\n\t\t// }\r\n\t\t// pendingFormDataRef.current = null;\r\n\t\t// setOtpMobile('');\r\n\t\t// setIsSubmitting(false);\r\n\t};\r\n\r\n\tconst handleShowJobDescription = (job: Job) => {\r\n\t\tsetSelectedJob(job);\r\n\t\t(window as any).openModal('#jobDescModal');\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<main key={mountKey}>\r\n\t\t\t\t<div className=\"emptyBox\"></div>\r\n\r\n\t\t\t\t<div className=\"breadcrumbWrapper\">\r\n\t\t\t\t\t<div className=\"container-lg\" data-aos=\"fade-in\">\r\n\t\t\t\t\t\t<ol className=\"breadcrumb\">\r\n\t\t\t\t\t\t\t<li className=\"breadcrumb-item\"><Link href=\"/\">Home</Link></li>\r\n\t\t\t\t\t\t\t<li className=\"breadcrumb-item\">Careers</li>\r\n\t\t\t\t\t\t\t<li className=\"breadcrumb-item active\">Explore Career</li>\r\n\t\t\t\t\t\t</ol>         \r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"bg-white\">\r\n\t\t\t\t\t<CareerNavigation activePage=\"explore-career\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"w-100 padding position-relative bg-white awards-section\">\r\n\t\t\t\t\t<div className=\"position-absolute top-0 end-0 w-100 h-100 overflow-hidden\" style={{zIndex: -1}}>\r\n\t\t\t\t\t\t<p className=\"hidden-title\" data-position=\"left\">Openings</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"container-lg\">\r\n\t\t\t\t\t\t<div className=\"heading mx-auto text-center\" data-aos=\"fade-in\">\r\n\t\t\t\t\t\t\t<h2 className=\"title-xxl text-primary\">Current Openings</h2>\r\n\t\t\t\t\t\t\t<p className=\"mb-0\">We have an ambitious road ahead of us. Join our team and <br />help us shape the future..</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row g-4\">\r\n\t\t\t\t\t\t\t{jobs.length && (\r\n\t\t\t\t\t\t\t\tjobs.map((job) => (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-6 career-card\" key={job._id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card inside\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"job-role\">{job.position_name}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"list-group list-group-flush\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Posted On</strong><span className=\"job-positions\">{job.createdAt ? new Date(job.createdAt).toLocaleDateString() : \"-\"}</span></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Job Position</strong><span className=\"job-positions\">{job.position_name}</span></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Experience</strong><span className=\"job-experience\">{job.experience_required}</span></li>\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-4 d-flex gap-3 align-items-center justify-content-between flex-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"readmore mt-0 w-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"button button-sm\" onClick={() => (window as any).applyNow(`${job.experience_required}`, `${job.position_name}`)}>Apply Now</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"viewmore mt-0 w-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-bs-target=\"#jobDescModal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"modal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShowJobDescription(job)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tJob Description\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"mb-0 mt-5\">Fill out the form and we'll be in touch soon! The aspirants may send their resumes to <a href=\"mailto:hrd@suncityprojects.com\">hrd@suncityprojects.com</a>.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Apply Online Section */}\r\n\t\t\t\t<div className=\"w-100 padding bg-primary bg-sec\" id=\"applyWrapper\">\r\n\t\t\t\t\t<div className=\"container-lg\">\r\n\t\t\t\t\t\t<div className=\"heading mx-auto text-center\">\r\n\t\t\t\t\t\t\t<h2 className=\"title-xxl mb-0\">Apply Online</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contactFormBox\">\r\n\t\t\t\t\t\t\t<form className=\"career-form\" id=\"careerForm\" method=\"post\" onSubmit={handleCareerSubmit}>\r\n\t\t\t\t\t\t\t\t{statusMessage && (\r\n\t\t\t\t\t\t\t\t\t<div className={`alert small py-2 rounded-0 ${statusType === 'success' ? 'alert-success' : 'alert-danger'}`} role=\"alert\">\r\n\t\t\t\t\t\t\t\t\t\t{statusMessage}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"row justify-content-center gy-4\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row g-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-user\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"crfirstname\" id=\"crfirstname\" value={formData.crfirstname} className=\"form-control lg bg-white border-top-0 border-bottom-0\" placeholder=\"First Name*\" onChange={handleInputChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.crfirstname && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger small mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-exclamation-circle me-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.crfirstname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-user\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"crlastname\" id=\"crlastname\" value={formData.crlastname} className=\"form-control lg bg-white border-top-0 border-bottom-0\" placeholder=\"Last Name*\" onChange={handleInputChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.crlastname && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger small mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-exclamation-circle me-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.crlastname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-phone\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"tel\" name=\"crmobile\" id=\"crmobile\" value={formData.crmobile} className=\"form-control lg bg-white border-top-0 border-bottom-0\" placeholder=\"Tel/Mobile*\" onChange={handleInputChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.crmobile && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger small mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-exclamation-circle me-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.crmobile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-envelope\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"email\" name=\"cremail\" id=\"cremail\" value={formData.cremail} className=\"form-control lg bg-white border-top-0 border-bottom-0\" placeholder=\"Email*\" onChange={handleInputChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.cremail && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger small mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-exclamation-circle me-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.cremail}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-user-tie\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" readOnly name=\"jobPosition\" id=\"jobPosition\" value={formData.jobPosition} className=\"form-control lg bg-white border-top-0 border-bottom-0\" placeholder=\"Job Position*\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.jobPosition && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger small mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-exclamation-circle me-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.jobPosition}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-calendar-check\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" readOnly name=\"experience\" id=\"experience\" value={formData.experience} className=\"form-control lg bg-white border-top-0 border-bottom-0\" placeholder=\"Experience*\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.experience && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-danger small mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-exclamation-circle me-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{fieldErrors.experience}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-file-pdf\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"resume\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"resume\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFileChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\"application/pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={34} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={255} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control lg bg-white border-top-0 border-bottom-0\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"resumefile\" id=\"resumefile\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t\t\t\t<textarea className=\"form-control h-100 bg-light\" name=\"shortdescription\" id=\"shortdescription\" value={formData.shortdescription} placeholder=\"Short Description\" rows={7} onChange={handleInputChange}></textarea>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"readmore\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"car_action\" value=\"active\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"button light mw-100 w-100 justify-content-center mx-auto\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"contsubmti\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{isSubmitting ? 'Submitting...' : 'Submit'} <i className=\"fa-solid fa-paper-plane\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* OTP Verification Modal - client side only */}\r\n\t\t\t\t{typeof window !== 'undefined' && (\r\n\t\t\t\t\t<OTPVerificationModal\r\n\t\t\t\t\t\tisOpen={showOTPModal}\r\n\t\t\t\t\t\tmobile={otpMobile}\r\n\t\t\t\t\t\tonVerify={verifyOTP}\r\n\t\t\t\t\t\tonClose={handleOTPVerified}\r\n\t\t\t\t\t\tonCancel={() => { setShowOTPModal(false); setIsSubmitting(false); }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"modal fade\" id=\"jobDescModal\" tabIndex={-1} aria-hidden=\"true\">\r\n\t\t\t\t\t<div className=\"modal-dialog modal-lg modal-dialog-centered\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"close d-flex align-items-center justify-content-center\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\" className=\"ion-ios-close\">×</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"fw-light text-primary mb-0\">Job Description</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-body p-4\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"mb-3 fw-light text-primary\">Job Responsibilities</h6>\r\n\t\t\t\t\t\t\t\t<div className=\"listContainer\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-unstyled mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t{selectedJob?.job_responsibilities\r\n\t\t\t\t\t\t\t\t\t\t\t?.split(\";\").filter((r) => r.trim() !== \"\") \r\n\t\t\t\t\t\t\t\t\t\t\t.map((r, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li key={i}>{r.trim()}</li>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<h6 className=\"mb-3 fw-light text-primary\">Qualifications</h6>\r\n\t\t\t\t\t\t\t\t<div className=\"listContainer\">\r\n\t\t\t\t\t\t\t\t\t<ul className=\"list-unstyled mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t{selectedJob?.qualifications\r\n\t\t\t\t\t\t\t\t\t\t\t?.split(\";\").filter((r) => r.trim() !== \"\") \r\n\t\t\t\t\t\t\t\t\t\t\t.map((r, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li key={i}>{r.trim()}</li>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"border-top my-4\"></div>\r\n\t\t\t\t\t\t\t\t<p className=\"mb-0\"><b>CTC:</b> {selectedJob?.CTC}</p>\r\n\t\t\t\t\t\t\t\t<div className=\"readmore\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={() => (window as any).applyNow(`${selectedJob?.experience_required}`, `${selectedJob?.position_name}`)} data-bs-dismiss=\"modal\" aria-label=\"Close\" className=\"button\">Apply Now</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</main>\r\n\t\t</>\r\n\t);\r\n}","'use client';\r\n\r\nimport { useEffect, useState, useCallback } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\ninterface OTPVerificationModalProps {\r\n  isOpen: boolean;\r\n  mobile: string;\r\n  onVerify: (otp: string) => Promise<boolean>;\r\n  onClose: () => void;\r\n  onCancel?: () => void;\r\n}\r\n\r\nexport default function OTPVerificationModal({ isOpen, mobile, onVerify, onClose, onCancel }: OTPVerificationModalProps) {\r\n  const [otp, setOtp] = useState('');\r\n  const [isVerifying, setIsVerifying] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [resendCooldown, setResendCooldown] = useState(0);\r\n  const [isResending, setIsResending] = useState(false);\r\n  const [isClosing, setIsClosing] = useState(false);\r\n\r\n  const handleVerify = useCallback(async () => {\r\n    if (otp.length !== 6) return;\r\n    \r\n    setIsVerifying(true);\r\n    setError('');\r\n    \r\n      try {\r\n        const success = await onVerify(otp);\r\n        if (success) {\r\n          setIsClosing(true);\r\n          setTimeout(() => onClose(), 100);\r\n        } else {\r\n          setError('Invalid OTP. Please try again.');\r\n          setOtp('');\r\n        }\r\n      } catch (err) {\r\n        setError('Verification failed. Please try again.');\r\n        setOtp('');\r\n      } finally {\r\n        setIsVerifying(false);\r\n      }\r\n  }, [otp, onVerify, onClose]);\r\n\r\n  useEffect(() => {\r\n    if (otp.length === 6) {\r\n      handleVerify();\r\n    }\r\n  }, [otp, handleVerify]);\r\n\r\n  useEffect(() => {\r\n    if (resendCooldown > 0) {\r\n      const timer = setTimeout(() => setResendCooldown(resendCooldown - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [resendCooldown]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && typeof window !== 'undefined') {\r\n      const timer = setTimeout(() => {\r\n        const input = document.getElementById('otp-input') as HTMLInputElement;\r\n        if (input) {\r\n          input.focus();\r\n        }\r\n      }, 100);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleResend = async () => {\r\n    if (resendCooldown > 0 || isResending) return;\r\n    \r\n    setIsResending(true);\r\n    setError('');\r\n    \r\n    try {\r\n      let fullMobile = mobile;\r\n      if (typeof window !== 'undefined') {\r\n        const mobileInput = document.getElementById('mmobile') as HTMLInputElement;\r\n        if (mobileInput && (window as any).intlTelInput) {\r\n          const iti = (window as any).intlTelInput.getInstance(mobileInput);\r\n          if (iti) {\r\n            const fullNumber = iti.getNumber();\r\n            if (fullNumber) {\r\n              fullMobile = fullNumber;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const response = await fetch('/api/otp/generate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ mobile: fullMobile }),\r\n      });\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (response.ok) {\r\n        setResendCooldown(30);\r\n        setOtp('');\r\n      } else {\r\n        setError(result.error || 'Failed to resend OTP');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to resend OTP. Please try again.');\r\n    } finally {\r\n      setIsResending(false);\r\n    }\r\n  };\r\n\r\n  const handleOtpChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value.replace(/\\D/g, '');\r\n    if (value.length <= 6) {\r\n      setOtp(value);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  if (!isOpen || isClosing) return null;\r\n\r\n  if (typeof window === 'undefined') return null;\r\n\r\n  const modalContent = (\r\n    <>\r\n        <div className=\"modal-backdrop fade show\"></div>\r\n        <div className=\"modal fade show\" style={{ display: 'block', zIndex: 1055 }} tabIndex={-1} aria-labelledby=\"otpModalLabel\" aria-modal=\"true\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n            <div className=\"modal-content\">\r\n            <div className=\"modal-body p-4\">\r\n                <button type=\"button\" className=\"close\" onClick={onCancel || onClose} aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">×</span>\r\n                </button>\r\n                \r\n                <div className=\"text-center mb-4\">\r\n                <div className=\"modal-logo mb-3\">\r\n                    <img src=\"/images/logo.svg\" alt=\"Suncity Projects\" />\r\n                </div>\r\n                <h5 className=\"modal-title\">Verify Your Mobile Number</h5>\r\n                <p className=\"text-muted small\">\r\n                    We've sent a 6-digit OTP to <strong>{mobile}</strong>\r\n                </p>\r\n                </div>\r\n\r\n                {error && (\r\n                <div className=\"alert alert-danger small py-2 rounded-0\" role=\"alert\">\r\n                    {error}\r\n                </div>\r\n                )}\r\n\r\n                <div className=\"mb-4\">\r\n                <div className=\"form-group\">\r\n                    <input\r\n                    type=\"text\"\r\n                    id=\"otp-input\"\r\n                    className=\"form-control text-center border-primary\"\r\n                    placeholder=\"Enter 6-digit OTP\"\r\n                    value={otp}\r\n                    onChange={handleOtpChange}\r\n                    maxLength={6}\r\n                    disabled={isVerifying}\r\n                    style={{ fontSize: '1.5rem', letterSpacing: '0.5rem' }}\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    onFocus={(e) => {\r\n                        e.target.select();\r\n                    }}\r\n                    onKeyDown={(e) => {\r\n                    }}\r\n                    />\r\n                </div>\r\n                </div>\r\n\r\n                <div className=\"text-center\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-link text-primary small\"\r\n                    onClick={handleResend}\r\n                    disabled={resendCooldown > 0 || isResending}\r\n                >\r\n                    {isResending ? 'Sending...' : resendCooldown > 0 ? `Resend in ${resendCooldown}s` : 'Resend OTP'}\r\n                </button>\r\n                </div>\r\n\r\n                <div className=\"text-center mt-3\">\r\n                <small className=\"text-muted\">\r\n                    Didn't receive the OTP? Check your SMS or try resending.\r\n                </small>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </>\r\n  );\r\n\r\n  return createPortal(modalContent, document.body);\r\n}\r\n"],"names":[],"mappings":"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"}