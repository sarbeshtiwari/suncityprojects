module.exports=[88815,a=>{"use strict";var b=a.i(87924);function c(){return(0,b.jsx)("div",{className:"col-lg-6 hm-featured-slide",children:(0,b.jsx)("div",{className:"inner",children:(0,b.jsxs)("div",{className:"row h-100 flex-column",children:[(0,b.jsx)("div",{className:"hm-featured-slide-img col-12",children:(0,b.jsx)("div",{className:"skeleton skeleton-img"})}),(0,b.jsx)("div",{className:"hm-featured-slide-text-container col-12 flex-grow-1",children:(0,b.jsxs)("div",{className:"hm-featured-slide-text",children:[(0,b.jsxs)("div",{className:"project-text",children:[(0,b.jsx)("div",{className:"skeleton skeleton-title mb-3"}),(0,b.jsx)("div",{className:"skeleton skeleton-line w-50 mb-2"}),(0,b.jsx)("div",{className:"skeleton skeleton-line w-100 mb-2"}),(0,b.jsx)("div",{className:"skeleton skeleton-line w-90 mb-4"}),(0,b.jsx)("div",{className:"skeleton skeleton-button"})]}),(0,b.jsxs)("div",{className:"project-icons d-flex gap-3 mt-4",children:[(0,b.jsx)("div",{className:"skeleton skeleton-icon"}),(0,b.jsx)("div",{className:"skeleton skeleton-icon"}),(0,b.jsx)("div",{className:"skeleton skeleton-icon"})]})]})})]})})})}a.s(["default",()=>c])},71929,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944);function f({placeholder:a="Project Name/ Location",showTrendingProperties:f=!0}){let g=(0,e.useRouter)(),[h,i]=(0,d.useState)(""),[j,k]=(0,d.useState)(""),[l,m]=(0,d.useState)(""),[n,o]=(0,d.useState)([]),[p,q]=(0,d.useState)(!1),[r,s]=(0,d.useState)([]),[t,u]=(0,d.useState)([]),[v,w]=(0,d.useState)(!1),[x,y]=(0,d.useState)(!1),z=a=>{a.preventDefault();let b=new URLSearchParams;if(h.trim()){let a=h.trim().replace(/\bgur[a-z]*\b/gi,"Gurgaon").replace(/\bugram\b/gi,"Gurgaon").replace(/\bugra\b/gi,"Gurgaon").replace(/\bgra\b/gi,"Gurgaon").replace(/\bram\b/gi,"Gurgaon").replace(/\bgram\b/gi,"Gurgaon");b.set("search",a)}j&&b.set("propertyType",j),l&&b.set("city",l);let c=b.toString();g.push(`/projects${c?`?${c}`:""}`),C()};(0,d.useEffect)(()=>{sessionStorage.getItem("propertySearchInitialized")||(i(""),k(""),m(""),u([]),w(!1),sessionStorage.setItem("propertySearchInitialized","true"))},[]),(0,d.useEffect)(()=>()=>{},[]),(0,d.useEffect)(()=>{(async()=>{try{q(!0);let a=await fetch("/api/locations"),b=await a.json();b.success&&(o(b.data),s(b.data))}catch(a){console.error("Error fetching locations:",a)}finally{q(!1)}})()},[]),(0,d.useEffect)(()=>()=>{sessionStorage.removeItem("propertySearchInitialized")},[]),(0,d.useEffect)(()=>{let a=()=>{"/"===window.location.pathname&&""===window.location.search&&(i(""),k(""),m(""),u([]),w(!1))};return window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}},[]);let A=async a=>{if(!a)return void s(n);try{w(!0);let b=await fetch(`/api/projects/locations?propertyType=${encodeURIComponent(a)}`),c=await b.json();c.success&&(s(c.data),0===c.data.length&&m(""))}catch(a){console.error("Error fetching filtered locations:",a),s(n),m("")}finally{w(!1)}},B=async a=>{if(!a)return void u([]);try{w(!0);let b=await fetch(`/api/projects/property-types?city=${encodeURIComponent(a)}`),c=await b.json();c.success&&(u(c.data),0===c.data.length&&k(""))}catch(a){console.error("Error fetching available property types:",a),u([]),k("")}finally{w(!1)}},C=()=>{setTimeout(()=>{},100)};return(0,b.jsx)("div",{className:"row g-0 justify-content-center position-relative mb-5",style:{zIndex:2},"data-aos":"fade-in",children:(0,b.jsxs)("div",{className:"col-xxl-6 col-lg-8 col-md-11 search-bar position-relative",children:[(0,b.jsxs)("button",{className:"p-3 bg-white shadow rounded-0 w-100 border-0 d-flex align-items-center justify-content-between",onClick:()=>window.openSearch&&window.openSearch(),children:[(0,b.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,b.jsx)("i",{className:"icon",children:(0,b.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"none",stroke:"var(--primary-color)",width:"1.25rem"},children:[(0,b.jsx)("path",{d:"M18.3,17.3c-0.3,0.3-0.6,0.7-1,1l5.5,5.5C23,24,23.2,24,23.3,24c0.1,0,0.3,0,0.5-0.2c0.2-0.2,0.2-0.4,0.2-0.5   c0-0.1,0-0.3-0.2-0.5L18.3,17.3L18.3,17.3z"}),(0,b.jsx)("circle",{cx:"10.3",cy:"10.3",r:"10"})]})}),(0,b.jsxs)("span",{className:"small text-uppercase",children:["Find Your Dream ",(0,b.jsx)("span",{className:"text-primary",children:"Property"})]})]}),(0,b.jsx)("div",{className:"icon-button spin mt-0",children:(0,b.jsxs)("div",{className:"round-button",children:[(0,b.jsx)("div",{className:"circle"}),(0,b.jsx)("i",{className:"fa fa-chevron-right"})]})})]}),(0,b.jsx)("div",{id:"searchFormWrapper",className:"search-form-wrapper bg-white shadow position-absolute top-0 start-0 w-100",children:(0,b.jsx)("div",{className:"search-form p-3",children:(0,b.jsx)("form",{onSubmit:z,children:(0,b.jsxs)("div",{className:"row justify-content-center gx-2 gy-4",children:[(0,b.jsxs)("div",{className:"col-12 search-field",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center gap-3 border-bottom",children:[(0,b.jsx)("i",{className:"icon",children:(0,b.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"none",stroke:"var(--primary-color)",width:"1.5rem"},children:[(0,b.jsx)("path",{d:"M18.3,17.3c-0.3,0.3-0.6,0.7-1,1l5.5,5.5C23,24,23.2,24,23.3,24c0.1,0,0.3,0,0.5-0.2c0.2-0.2,0.2-0.4,0.2-0.5   c0-0.1,0-0.3-0.2-0.5L18.3,17.3L18.3,17.3z"}),(0,b.jsx)("circle",{cx:"10.3",cy:"10.3",r:"10"})]})}),(0,b.jsxs)("div",{className:"form-floating col",children:[(0,b.jsx)("input",{type:"text",className:"form-control",id:"searchProperty",placeholder:"",value:h,onChange:a=>i(a.target.value),onKeyPress:a=>{"Enter"===a.key&&z(a)}}),(0,b.jsx)("label",{className:"small text-uppercase text-golden",htmlFor:"searchProperty",children:a})]}),(0,b.jsx)("button",{type:"button",className:"p-0 btn icon-button mt-0",onClick:a=>{a.preventDefault(),window.closeSearch&&window.closeSearch()},children:(0,b.jsxs)("div",{className:"round-button me-0",children:[(0,b.jsx)("div",{className:"circle"}),(0,b.jsx)("i",{className:"fa fa-chevron-up"})]})})]}),f&&(0,b.jsxs)("div",{className:"trending-capsule p-3 bg-light",children:[(0,b.jsx)("small",{children:"Trending Properties"}),(0,b.jsxs)("div",{className:"d-flex flex-wrap gap-2 mt-3",children:[(0,b.jsxs)(c.default,{href:"/projects/jewel-of-india",className:"btn btn-sm btn-outline-primary rounded-pill",children:["Jewel of India ",(0,b.jsx)("small",{children:"Phase-II"})]}),(0,b.jsx)(c.default,{href:"/projects/jewel-tower",className:"btn btn-sm btn-outline-primary rounded-pill",children:"Jewel Tower"}),(0,b.jsx)(c.default,{href:"/projects/suncity-ultima",className:"btn btn-sm btn-outline-primary rounded-pill",children:"Suncity Ultima"}),(0,b.jsx)(c.default,{href:"/projects/the-empire",className:"btn btn-sm btn-outline-primary rounded-pill",onClick:()=>{g.push(`/projects?search=${encodeURIComponent("The Empire")}`),C()},children:"The Empire"}),(0,b.jsx)(c.default,{href:"/projects/jewel-farms",className:"btn btn-sm btn-outline-primary rounded-pill",children:"Jewel Farms"}),(0,b.jsx)(c.default,{href:"/projects/the-empire-centre",className:"btn btn-sm btn-outline-primary rounded-pill",children:"The Empire Centre"})]})]})]}),(0,b.jsx)("div",{className:"col-sm-6 search-field",children:(0,b.jsxs)("div",{className:"form-floating",children:[(0,b.jsxs)("select",{className:"form-select rounded-0",id:"propertyType","aria-label":"Floating label select example",value:j,onChange:a=>{let b=a.target.value;k(b),A(b)},disabled:v||!!l&&0===t.length,onFocus:a=>{a.stopPropagation(),y(!1)},onBlur:a=>{a.stopPropagation()},onClick:a=>{a.stopPropagation(),y(!1)},children:[(0,b.jsx)("option",{value:"",children:l&&0===t.length?"No projects in this location":"Select Property Type"}),t.length>0?t.map(a=>(0,b.jsx)("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a)):l?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:"residential",children:"Residential"}),(0,b.jsx)("option",{value:"commercial",children:"Commercial"}),(0,b.jsx)("option",{value:"retail",children:"Retail"}),(0,b.jsx)("option",{value:"education",children:"Education"})]})]}),(0,b.jsx)("label",{className:"small text-uppercase",htmlFor:"propertyType",children:v?"Loading...":"Property Type"})]})}),(0,b.jsx)("div",{className:"col-sm-6 search-field",children:(0,b.jsxs)("div",{className:"form-floating",children:[(0,b.jsxs)("select",{className:"form-select rounded-0",id:"location","aria-label":"Floating label select example",value:l,onChange:a=>{let b=a.target.value;m(b),B(b)},disabled:p||v||!!j&&0===r.length,onFocus:a=>{a.stopPropagation(),y(!1)},onBlur:a=>{a.stopPropagation()},onClick:a=>{a.stopPropagation(),y(!1)},children:[(0,b.jsx)("option",{value:"",children:j&&0===r.length?"No locations for this property type":"Choose Location"}),r.length>0?[...new Set(r.map(a=>a.city))].sort().map(a=>(0,b.jsx)("option",{value:a,children:a},a)):j?null:[...new Set(n.map(a=>a.city))].sort().map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsx)("label",{className:"small text-uppercase",htmlFor:"location",children:p||v?"Loading Locations...":"Location"})]})}),(0,b.jsx)("div",{className:"col-sm-3",children:(0,b.jsxs)("div",{className:"readmore mt-0",children:[(0,b.jsx)("button",{type:"submit",className:"button w-100 mw-100 mx-auto",children:"Apply"}),(0,b.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100 mt-2",onClick:()=>{x||(y(!0),i(""),k(""),m(""),s(n),u([]),w(!1),setTimeout(()=>{y(!1)},100))},children:"Reset"})]})})]})})})})]})})}a.s(["default",()=>f])},58104,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71929),f=a.i(38246),g=a.i(88815);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),u=(0,d.useSearchParams)();(0,c.useEffect)(()=>{v()},[]),(0,c.useEffect)(()=>{let a=u.get("search"),b=u.get("propertyType"),c=u.get("city");p(a||""),r(b||""),t(c||""),x(a||"",b||"",c||"")},[u,a]),(0,c.useEffect)(()=>{a.length},[a]);let v=async()=>{try{l(!0);let a=await fetch("/api/projects"),b=await a.json();b.success?(h(b.data),j(b.data)):n("Failed to fetch projects")}catch(a){n("Error fetching projects"),console.error("Error fetching projects:",a)}finally{l(!1)}},w=async(a,b)=>{try{l(!0);let c=new URLSearchParams;a&&c.set("propertyType",a),b&&c.set("city",b);let d=await fetch(`/api/projects/filter?${c.toString()}`),e=await d.json();e.success?j(e.data):n("Failed to fetch filtered projects")}catch(a){n("Error fetching filtered projects"),console.error("Error fetching filtered projects:",a)}finally{l(!1)}},x=(a,b,c)=>{b||c?w(b,c):y(a)},y=b=>{b.trim()?j(a.filter(a=>{let c=a.projectName.toLowerCase().includes(b.toLowerCase()),d=a.projectLocation&&"object"==typeof a.projectLocation&&(a.projectLocation.name?.toLowerCase().includes(b.toLowerCase())||a.projectLocation.city?.toLowerCase().includes(b.toLowerCase())||a.projectLocation.state?.toLowerCase().includes(b.toLowerCase()));return c||d})):j(a)};return k?(0,b.jsxs)("main",{children:[(0,b.jsx)("div",{className:"emptyBox"}),(0,b.jsx)("div",{className:"breadcrumbWrapper",children:(0,b.jsx)("div",{className:"container-lg",children:(0,b.jsxs)("ol",{className:"breadcrumb",children:[(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(f.default,{href:"/",children:"Home"})}),(0,b.jsx)("li",{className:"breadcrumb-item active",children:"Projects"})]})})}),(0,b.jsx)("div",{className:"w-100 padding section-portfolio bg-white",children:(0,b.jsxs)("div",{className:"container-lg",children:[(0,b.jsx)("div",{className:"heading text-center mx-auto",children:(0,b.jsx)("div",{className:"skeleton skeleton-heading mx-auto mb-4"})}),(0,b.jsx)("div",{className:"projectContainer",children:(0,b.jsx)("div",{className:"row gy-5",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(g.default,{},c))})})]})})]}):m?(0,b.jsxs)("main",{children:[(0,b.jsx)("div",{className:"emptyBox"}),(0,b.jsx)("div",{className:"breadcrumbWrapper",children:(0,b.jsx)("div",{className:"container-lg","data-aos":"fade-in",children:(0,b.jsxs)("ol",{className:"breadcrumb",children:[(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(f.default,{href:"/",children:"Home"})}),(0,b.jsx)("li",{className:"breadcrumb-item active",children:"Projects"})]})})}),(0,b.jsx)("div",{className:"w-100 padding overflow-hidden position-relative section-portfolio bg-white",children:(0,b.jsx)("div",{className:"container-lg",children:(0,b.jsx)("div",{className:"text-center py-5",children:(0,b.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,b.jsx)("h4",{className:"alert-heading",children:"Error!"}),(0,b.jsx)("p",{children:m}),(0,b.jsx)("div",{className:"readmore",children:(0,b.jsx)("button",{className:"button button-sm",onClick:v,children:"Try Again"})})]})})})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("main",{children:[(0,b.jsx)("div",{className:"emptyBox"}),(0,b.jsx)("div",{className:"breadcrumbWrapper",children:(0,b.jsx)("div",{className:"container-lg","data-aos":"fade-in",children:(0,b.jsxs)("ol",{className:"breadcrumb",children:[(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(f.default,{href:"/",children:"Home"})}),(0,b.jsx)("li",{className:"breadcrumb-item active",children:"Projects"})]})})}),(0,b.jsx)("div",{className:"w-100 padding overflow-hidden position-relative section-portfolio bg-white",children:(0,b.jsxs)("div",{className:"container-lg",children:[(0,b.jsx)(e.default,{placeholder:"Project Name/ Location",showTrendingProperties:!0}),(0,b.jsx)("div",{className:"heading text-center mx-auto","data-aos":"fade-in",children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{className:"title-xxl text-primary mb-0",children:"Search Results"}),(0,b.jsxs)("p",{className:"text-muted mt-2",children:["Showing ",i.length," project",1!==i.length?"s":"",' for "',o,'"']})]}):(0,b.jsx)("h1",{className:"title-xxl text-primary mb-0",children:"Featured Projects"})}),(0,b.jsx)("div",{className:"projectContainer","data-aos":"fade-in",children:(0,b.jsx)("div",{className:"project-slider",children:(0,b.jsx)("div",{className:"row gy-5",children:0===i.length?(0,b.jsx)("div",{className:"col-12 text-center",children:(0,b.jsxs)("div",{className:"alert bg-light py-5",role:"alert",children:[(0,b.jsx)("h4",{className:"alert-heading",children:o?"No Projects Found":"No Projects Available"}),(0,b.jsx)("p",{children:o?`No projects found for "${o}". Try a different search term.`:"There are no projects available at the moment."}),o&&(0,b.jsx)("div",{className:"readmore",children:(0,b.jsx)(f.default,{href:"/projects",className:"button button-sm mx-auto",children:"View All Projects"})})]})}):i.map((a,c)=>(0,b.jsx)("div",{className:"col-lg-6 hm-featured-slide",children:(0,b.jsx)(f.default,{href:`/projects/${a.slug}`,className:"inner",children:(0,b.jsxs)("div",{className:"row h-100 flex-column",children:[(0,b.jsx)("div",{className:"hm-featured-slide-img col-md-12 col-12",children:(0,b.jsxs)("div",{className:"img-fluid overflow-hidden position-relative",children:[(0,b.jsx)("span",{className:`badge ${(a=>{switch(a.toLowerCase()){case"residential":case"commercial":case"retail":case"education":default:return"bg-white text-dark";case"delivered":return"bg-secondary"}})(a.category)} rounded-pill position-absolute start-0 top-0 m-3 fw-normal`,children:a.category.toUpperCase()}),(0,b.jsx)("img",{src:a.projectThumbnail||"/images/project-thumbs/default.webp",alt:a.projectName})]})}),(0,b.jsx)("div",{className:"hm-featured-slide-text-container col-md-12 col-12 flex-grow-1",children:(0,b.jsxs)("div",{className:"hm-featured-slide-text",children:[(0,b.jsxs)("div",{className:"project-text",children:[(0,b.jsx)("div",{className:"featured-box-heading mb-3",children:(0,b.jsx)("h2",{className:"h2 fw-light text-primary mb-0",children:a.projectName})}),(0,b.jsxs)("p",{className:"text-primary d-flex align-items-center flex-wrap gap-2",children:[(0,b.jsx)("i",{className:"fa fa-shield-halved"})," ",a.reraNumber]}),(0,b.jsx)("p",{className:"d-block",children:a.shortDescription}),(0,b.jsxs)("div",{className:"icon-button",children:[(0,b.jsxs)("div",{className:"round-button",children:[(0,b.jsx)("div",{className:"circle"}),(0,b.jsx)("i",{className:"fa fa-chevron-right"})]})," LEARN MORE"]})]}),(0,b.jsxs)("div",{className:"project-icons",children:[(0,b.jsx)("div",{className:"icon-item",children:(0,b.jsxs)("div",{className:"in",children:[(0,b.jsx)("div",{className:"icon",children:(0,b.jsx)("img",{src:"/images/icons/location.svg",alt:""})}),(0,b.jsxs)("p",{className:"mb-0",children:[(0,b.jsx)("small",{className:"d-block",children:"Location"}),(0,b.jsx)("span",{children:"string"==typeof a.projectLocation?a.projectLocation:String(a.projectLocation?.name||"Location")})]})]})}),(0,b.jsx)("div",{className:"icon-item",children:(0,b.jsxs)("div",{className:"in",children:[(0,b.jsx)("div",{className:"icon",children:(0,b.jsx)("img",{src:"/images/icons/project-status.svg",alt:""})}),(0,b.jsxs)("p",{className:"mb-0",children:[(0,b.jsx)("small",{className:"d-block",children:"Status"}),(0,b.jsx)("span",{className:(a=>{switch(a.toLowerCase()){case"ongoing":case"completed":return"text-primary";case"delivered":return"text-secondary";default:return"text-muted"}})(a.status),children:a.status})]})]})}),(0,b.jsx)("div",{className:"icon-item",children:(0,b.jsxs)("div",{className:"in",children:[(0,b.jsx)("div",{className:"icon",children:(0,b.jsx)("img",{src:"/images/icons/area.svg",alt:""})}),(0,b.jsxs)("p",{className:"mb-0",children:[(0,b.jsx)("small",{className:"d-block",children:"Area"}),(0,b.jsx)("span",{children:a.area})]})]})})]})]})})]})})},a._id))})})})]})})]})})}function i(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"container-lg py-5",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,b.jsx)("p",{className:"mt-3",children:"Loading projects..."})]})}),children:(0,b.jsx)(h,{})})}a.s(["default",()=>i])}];

//# sourceMappingURL=_b195fd45._.js.map