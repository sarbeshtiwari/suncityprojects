module.exports=[78170,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({onLogout:a,onMenuToggle:c}){return(0,b.jsx)("header",{className:"bg-white shadow-sm border-bottom fixed-top w-100",style:{zIndex:50,borderColor:"#e5e7eb"},children:(0,b.jsx)("div",{className:"container-fluid px-3 px-md-4 px-lg-5",children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",style:{height:"4rem"},children:[(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("button",{onClick:c,className:"btn btn-link p-2 text-muted",style:{border:"none",background:"none"},onMouseEnter:a=>a.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:a=>a.currentTarget.style.backgroundColor="transparent",children:(0,b.jsx)("svg",{style:{width:"1.5rem",height:"1.5rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,b.jsx)("div",{className:"d-flex align-items-center ms-3 ms-lg-0",children:(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("img",{style:{height:"2rem"},src:"/images/logo.svg",alt:"Suncity Projects"})})})]}),(0,b.jsx)("div",{className:"d-flex align-items-center gap-3",children:(0,b.jsx)("button",{onClick:a,className:"btn btn-danger btn-sm",style:{transition:"all 0.2s ease"},children:"Logout"})})]})})})}var f=a.i(38246);let g=[{name:"Dashboard",href:"/admin",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{name:"Contact Forms",href:"/admin/contacts",icon:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},{name:"Career Applications",href:"/admin/careers",icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{name:"Job Postings",href:"/admin/job-postings",icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{name:"Channel Partners",href:"/admin/channel-partners",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{name:"Grievances",href:"/admin/grievances",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},{name:"Newsletter Subscriptions",href:"/admin/newsletters",icon:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},{name:"Project Enquiries",href:"/admin/project-enquiries",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Projects",href:"/admin/projects",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Amenities",href:"/admin/amenities",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Locations",href:"/admin/locations",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Manage Blogs",href:"/admin/blogs",icon:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"},{name:"Manage Events",href:"/admin/events",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Settings",href:"/admin/settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"}];function h({isOpen:a,onClose:c}){let e=(0,d.usePathname)();return(0,b.jsxs)(b.Fragment,{children:[a&&(0,b.jsx)("div",{className:"position-fixed d-lg-none",style:{top:"64px",left:0,right:0,bottom:0,zIndex:30,backgroundColor:"rgba(75, 85, 99, 0.75)"},onClick:c}),(0,b.jsxs)("div",{className:`
          sideMenu position-sticky d-lg-block d-flex flex-column
          ${a?"active":""}
        `,style:{top:"64px",left:0,zIndex:40,width:a?"16rem":"5.5rem",height:"calc(100vh - 64px)",backgroundColor:"white",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease-in-out",overflow:a?"":"hidden"},children:[(0,b.jsx)("nav",{className:`flex-fill mt-4
          ${a?"px-3":"px-0"}
        `,children:(0,b.jsx)("ul",{className:"list-unstyled",children:g.map(d=>{let g=e===d.href;return(0,b.jsx)("li",{className:"mb-1",children:(0,b.jsxs)(f.default,{href:d.href,className:`
                      d-flex align-items-center px-3 py-2 text-decoration-none rounded
                      ${g?"bg-primary text-white":"text-muted"}
                    `,style:{transition:"all 0.2s ease",fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:a=>{g||(a.currentTarget.style.backgroundColor="#f3f4f6",a.currentTarget.style.color="#374151")},onMouseLeave:a=>{g||(a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="#6b7280")},onClick:()=>{window.innerWidth<1024&&c()},children:[(0,b.jsx)("svg",{className:"flex-shrink-0 me-3",style:{width:"1.25rem",height:"1.25rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:d.icon})}),(0,b.jsx)("span",{className:`${a?"d-block":"d-none"}`,children:d.name})]})},d.name)})})}),(0,b.jsx)("div",{className:` ${a?"d-block":"d-none"}`,children:(0,b.jsx)("div",{className:"bg-light rounded p-3",children:(0,b.jsx)("div",{className:"d-flex align-items-center",children:(0,b.jsxs)("div",{className:"ms-3",children:[(0,b.jsx)("p",{className:"mb-0 small fw-medium text-dark",children:"Admin User"}),(0,b.jsx)("p",{className:"mb-0 small text-muted",children:"admin@suncityprojects.com"})]})})})})]})]})}function i({onLogin:a,errorMessage:d}){let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(d||""),m=async b=>{b.preventDefault(),j(!0),l("");let c=await a(e,g);c.success||l(c.message||"Login failed"),j(!1)};return(0,b.jsx)("div",{className:"admin-panel d-flex align-items-center justify-content-center py-5",style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #eff6ff, white, #e0e7ff)"},children:(0,b.jsx)("div",{className:"container",children:(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center bg-white rounded-circle shadow",style:{width:"4rem",height:"4rem"},children:(0,b.jsx)("img",{style:{width:"3.5rem",height:"3.5rem"},src:"/images/logo-icon.svg",alt:"Suncity Projects"})}),(0,b.jsx)("h2",{className:"mt-4 mb-2 display-6 fw-bold text-dark",children:"Welcome Back"}),(0,b.jsx)("p",{className:"small text-muted",children:"Sign in to your admin dashboard"})]}),(0,b.jsxs)("div",{className:"bg-white p-4 shadow-lg rounded-3",children:[(0,b.jsxs)("form",{onSubmit:m,children:[k&&(0,b.jsx)("div",{className:"alert alert-danger small",children:k}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"email",className:"form-label small fw-medium text-dark",children:"Email Address"}),(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:(0,b.jsx)("svg",{style:{width:"1.25rem",height:"1.25rem"},className:"text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,b.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:a=>f(a.target.value),className:"form-control ps-5 py-3",style:{borderRadius:"0.5rem",transition:"all 0.2s ease"},placeholder:"Enter your email"})]})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"password",className:"form-label small fw-medium text-dark",children:"Password"}),(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("div",{className:"position-absolute top-50 start-0 translate-middle-y ps-3",children:(0,b.jsx)("svg",{style:{width:"1.25rem",height:"1.25rem"},className:"text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,b.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:g,onChange:a=>h(a.target.value),className:"form-control ps-5 py-3",style:{borderRadius:"0.5rem",transition:"all 0.2s ease"},placeholder:"Enter your password"})]})]}),(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,b.jsxs)("div",{className:"form-check",children:[(0,b.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-check-input"}),(0,b.jsx)("label",{htmlFor:"remember-me",className:"form-check-label small text-muted",children:"Remember me"})]}),(0,b.jsx)("div",{className:"small",children:(0,b.jsx)("a",{href:"#",className:"text-decoration-none fw-medium",style:{color:"#2563eb"},children:"Forgot your password?"})})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("button",{type:"submit",disabled:i,className:"btn btn-primary w-100 py-3 fw-medium",style:{borderRadius:"0.5rem",transition:"all 0.2s ease"},children:i?(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,b.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing in..."]}):(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,b.jsx)("svg",{style:{width:"1.25rem",height:"1.25rem"},className:"me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign in"]})})})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"small text-muted mb-0",children:"Â© 2025 Suncity Projects. All rights reserved."})})]})]})})})})}function j({children:a}){let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1);(0,d.useRouter)(),(0,c.useEffect)(()=>{l();let a=()=>{l()},b=()=>{f(!1),k(!1)},c=setInterval(()=>{let a=localStorage.getItem("adminToken");if(a)try{let b=a.split(".");if(3!==b.length){localStorage.removeItem("adminToken"),f(!1);return}let c=JSON.parse(atob(b[1])),d=Math.floor(Date.now()/1e3);c.exp&&c.exp<d&&(localStorage.removeItem("adminToken"),f(!1),k(!0))}catch(a){localStorage.removeItem("adminToken"),f(!1)}},3e5);return window.addEventListener("adminLogin",a),window.addEventListener("adminLogout",b),()=>{window.removeEventListener("adminLogin",a),window.removeEventListener("adminLogout",b),clearInterval(c)}},[]);let l=async()=>{let a=localStorage.getItem("adminToken");if(!a){f(!1),h(!1);return}try{let b=a.split(".");if(3!==b.length){localStorage.removeItem("adminToken"),f(!1),h(!1);return}let c=JSON.parse(atob(b[1])),d=Math.floor(Date.now()/1e3);if(c.exp&&c.exp<d){localStorage.removeItem("adminToken"),f(!1),k(!0),h(!1);return}let e=await fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${a}`}});e.ok?(f(!0),k(!1)):401===e.status?(localStorage.removeItem("adminToken"),f(!1),k(!0)):f(!1)}catch(a){console.error("Auth check error:",a),localStorage.removeItem("adminToken"),f(!1)}finally{h(!1)}},m=async(a,b)=>{try{let c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b})});if(c.ok){let a=await c.json();return localStorage.setItem("adminToken",a.token),f(!0),k(!1),window.dispatchEvent(new CustomEvent("adminLogin")),{success:!0}}{let a=await c.json();return{success:!1,message:a.error||"Login failed"}}}catch(a){return console.error("Login error:",a),{success:!1,message:"Network error. Please try again."}}};return g?(0,b.jsx)("div",{className:"admin-panel d-flex align-items-center justify-content-center",style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #eff6ff, #e0e7ff)"},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"spinner mx-auto mb-4",style:{width:"4rem",height:"4rem"}}),(0,b.jsx)("p",{className:"fs-5 text-muted",children:"Loading..."})]})}):e?(0,b.jsx)(b.Fragment,{children:a}):(0,b.jsx)(i,{onLogin:m,errorMessage:j?"Your session has expired. Please log in again.":void 0})}function k({children:a}){let[f,g]=(0,c.useState)(!1),i=(0,d.useRouter)();return(0,c.useEffect)(()=>{localStorage.getItem("adminToken")&&g(!0);let a=()=>{g(!0)},b=()=>{g(!1)};return window.addEventListener("adminLogin",a),window.addEventListener("adminLogout",b),()=>{window.removeEventListener("adminLogin",a),window.removeEventListener("adminLogout",b)}},[]),(0,b.jsx)(j,{children:(0,b.jsxs)("div",{className:"admin-panel",style:{minHeight:"100vh",backgroundColor:"#f9fafb"},children:[(0,b.jsx)(e,{onLogout:()=>{window.confirm("Are you sure you want to logout?")&&(localStorage.removeItem("adminToken"),window.dispatchEvent(new CustomEvent("adminLogout")),i.push("/admin"))},onMenuToggle:()=>g(!f)}),(0,b.jsxs)("div",{className:"d-flex",style:{paddingTop:"4rem"},children:[(0,b.jsx)(h,{isOpen:f,onClose:()=>g(!1)}),(0,b.jsx)("main",{className:"flex-fill",style:{transition:"all 0.3s ease"},children:(0,b.jsx)("div",{className:"p-4",children:a})})]})]})})}a.s(["default",()=>k],78170)}];

//# sourceMappingURL=app_admin_layout_tsx_1751cc55._.js.map