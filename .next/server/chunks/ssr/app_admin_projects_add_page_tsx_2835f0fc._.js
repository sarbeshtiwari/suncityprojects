module.exports=[89083,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({initialData:a,isEditMode:f=!1,projectId:g}={}){let h=(0,d.useRouter)(),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)({metaTitle:a?.metaTitle||"",metaKeywords:a?.metaKeywords||"",metaDescription:a?.metaDescription||"",otherMetaTags:a?.otherMetaTags||"",schemaScript:a?.schemaScript||"",projectName:a?.projectName||"",projectLogo:a?.projectLogo||"",projectThumbnail:a?.projectThumbnail||"",slug:a?.slug||"",category:a?.category||"residential",reraNumber:a?.reraNumber||"",longDescription:a?.longDescription||"",shortDescription:a?.shortDescription||"",projectLocation:"object"==typeof a?.projectLocation?a?.projectLocation?._id||"":a?.projectLocation||"",status:a?.status||"ongoing",area:a?.area||"",type:a?.type||"",heading:a?.heading||"",locationImage:a?.locationImage||"",locationAltText:a?.locationAltText||"",locationType:a?.locationType||"iframe",locationIframe:a?.locationIframe||"",isActive:a?.isActive===void 0||a.isActive,bannerVideo:{mobile:a?.bannerVideo?.mobile||"",desktop:a?.bannerVideo?.desktop||"",tablet:a?.bannerVideo?.tablet||""},bannerVideoPoster:{mobile:a?.bannerVideoPoster?.mobile||"",desktop:a?.bannerVideoPoster?.desktop||"",tablet:a?.bannerVideoPoster?.tablet||""},sitePlanImage:{original:a?.sitePlanImage?.original||"",mobile:a?.sitePlanImage?.mobile||"",desktop:a?.sitePlanImage?.desktop||"",altText:a?.sitePlanImage?.altText||""},galleryImages:a?.galleryImages||[],nearbyLocations:a?.nearbyLocations||[],floorPlans:a?.floorPlans||[],faqs:a?.faqs||[],amenities:a?.amenities?.map(a=>"object"==typeof a?a._id:a)||[]}),[q,r]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{s(),t()},[]);let s=async()=>{try{let a=await fetch("/api/locations"),b=await a.json();b.success&&l(b.data)}catch(a){console.error("Error fetching locations:",a)}},t=async()=>{try{let a=await fetch("/api/amenities"),b=await a.json();b.success&&n(b.data)}catch(a){console.error("Error fetching amenities:",a)}},u=a=>{let{name:b,value:c,type:d}=a.target;if(b.includes(".")){let[a,d]=b.split(".");p(b=>({...b,[a]:{...b[a]||{},[d]:c}}))}else p(e=>{let f={...e,[b]:"checkbox"===d?a.target.checked:c};return"projectName"===b&&c&&(f.slug=c.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()),f})},v=(a,b,c,d)=>{p(e=>({...e,[a]:(e[a]||[]).map((a,e)=>e===b?{...a,[c]:d}:a)}))},w=(a,b)=>{p(c=>({...c,[a]:[...c[a]||[],b]}))},x=(a,b)=>{p(c=>({...c,[a]:(c[a]||[]).filter((a,c)=>c!==b)}))},y=async(a,b)=>{let c=`${b}-${Date.now()}`;r(a=>new Set(a).add(c));try{let c=new FormData;c.append("file",a),c.append("fieldName",b);let d=await fetch("/api/upload",{method:"POST",body:c});if(d.ok)return(await d.json()).url;{let a=await d.json();throw Error(a.details||a.error||"Upload failed")}}catch(a){return console.error("Upload error:",a),alert(`Failed to upload file: ${a instanceof Error?a.message:"Unknown error"}`),null}finally{r(a=>{let b=new Set(a);return b.delete(c),b})}},z=async(a,b)=>{var c,d;let e=a.target.files?.[0];if(!e)return;if(c=e,d=b,c.size>0x3c00000?(alert(`File size must be less than 60MB. Current size: ${(c.size/1048576).toFixed(2)}MB`),!!1):"projectThumbnail"===d&&!["image/webp","image/avif","image/jpeg","image/jpg","image/png"].includes(c.type)&&(alert(`Invalid file type. Allowed types: WebP, AVIF, JPG, PNG. Current type: ${c.type}`),!!1)){a.target.value="";return}let f=await y(e,b);if(f)if(b.includes(".")){let[a,c]=b.split(".");p(b=>({...b,[a]:{...b[a]||{},[c]:f}}))}else p(a=>({...a,[b]:f}))},A=async(a,b,c,d)=>{let e=a.target.files?.[0];if(!e)return;let f=await y(e,`${b}-${c}-${d}`);f&&p(a=>({...a,[b]:(a[b]||[]).map((a,b)=>b===c?{...a,[d]:f}:a)}))},B=async a=>{a.preventDefault(),j(!0);try{let a=["projectName","slug","category","reraNumber","longDescription","shortDescription","projectLocation","status","area","type","heading","locationAltText"];f&&o.projectLogo||a.push("projectLogo"),f&&o.projectThumbnail||a.push("projectThumbnail"),f&&o.locationImage||a.push("locationImage");let b=a.filter(a=>!o[a]);if(b.length>0){alert(`Please fill in all required fields: ${b.join(", ")}`),j(!1);return}let c=f?`/api/projects/manage/${g}`:"/api/projects",d=f?"PUT":"POST",e=await fetch(c,{method:d,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify(o)}),i=await e.json();if(i.success)alert(f?"Project updated successfully!":"Project created successfully!"),h.push("/admin/projects");else{let a=i.details?`${i.error}: ${Array.isArray(i.details)?i.details.join(", "):i.details}`:i.error;alert(`Failed to ${f?"update":"create"} project: `+a)}}catch(a){console.error(`Error ${f?"updating":"creating"} project:`,a),alert(`Error ${f?"updating":"creating"} project: `+(a instanceof Error?a.message:"Unknown error"))}finally{j(!1)}};return(0,b.jsxs)("div",{className:"w-100",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"h2 fw-bold text-dark mb-1",children:f?"Edit Project":"Add New Project"}),(0,b.jsx)("p",{className:"text-muted mb-0",children:f?"Update the project details":"Create a new real estate project"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>h.back(),className:"btn btn-outline-secondary d-inline-flex align-items-center px-3 py-2",children:"â† Back to Projects"})]}),(0,b.jsxs)("form",{onSubmit:B,className:"w-100",children:[(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"SEO Details"}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Meta Title"}),(0,b.jsx)("input",{type:"text",name:"metaTitle",value:o.metaTitle,onChange:u,required:!0,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Meta Keywords"}),(0,b.jsx)("input",{type:"text",name:"metaKeywords",value:o.metaKeywords,onChange:u,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Meta Description"}),(0,b.jsx)("textarea",{name:"metaDescription",value:o.metaDescription,onChange:u,className:"form-control",rows:4})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Schema"}),(0,b.jsx)("textarea",{name:"schemaScript",value:o.schemaScript,onChange:u,className:"form-control",rows:4})]}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Other Meta Tags"}),(0,b.jsx)("textarea",{name:"otherMetaTags",value:o.otherMetaTags,onChange:u,className:"form-control",rows:4})]})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Project Information"}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Project Name"}),(0,b.jsx)("input",{type:"text",name:"projectName",value:o.projectName,onChange:u,required:!0,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Slug (URL-friendly name)"}),(0,b.jsx)("input",{type:"text",name:"slug",value:o.slug,onChange:u,placeholder:"Will be auto-generated from project name",className:"form-control"}),(0,b.jsx)("p",{className:"form-text small text-muted",children:"Leave empty to auto-generate from project name"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Category"}),(0,b.jsxs)("select",{name:"category",value:o.category,onChange:u,required:!0,className:"form-select",children:[(0,b.jsx)("option",{value:"residential",children:"Residential"}),(0,b.jsx)("option",{value:"commercial",children:"Commercial"}),(0,b.jsx)("option",{value:"retail",children:"Retail"}),(0,b.jsx)("option",{value:"education",children:"Education"})]})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Status"}),(0,b.jsxs)("select",{name:"status",value:o.status,onChange:u,required:!0,className:"form-select",children:[(0,b.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,b.jsx)("option",{value:"ongoing",children:"Ongoing"}),(0,b.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Location"}),(0,b.jsxs)("select",{name:"projectLocation",value:o.projectLocation,onChange:u,required:!0,className:"form-select",children:[(0,b.jsx)("option",{value:"",children:"Select Location"}),k.map(a=>(0,b.jsxs)("option",{value:a._id,children:[a.name,", ",a.city]},a._id))]})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Area"}),(0,b.jsx)("input",{type:"text",name:"area",value:o.area,onChange:u,required:!0,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Type"}),(0,b.jsx)("input",{type:"text",name:"type",value:o.type,onChange:u,required:!0,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"RERA Number"}),(0,b.jsx)("input",{type:"text",name:"reraNumber",value:o.reraNumber,onChange:u,required:!0,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Project Logo"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"projectLogo"),required:!f||!o.projectLogo,className:"form-control"}),f&&o.projectLogo&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current logo is uploaded. Leave empty to keep existing logo."}),o.projectLogo&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.projectLogo,alt:"Project Logo Preview",className:"rounded",style:{height:"5rem",width:"5rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Project Thumbnail"}),(0,b.jsx)("input",{type:"file",accept:".webp,.avif,.jpg,.jpeg,.png",onChange:a=>z(a,"projectThumbnail"),required:!f||!o.projectThumbnail,className:"form-control"}),(0,b.jsx)("p",{className:"form-text small text-muted",children:"Allowed formats: WebP, AVIF, JPG, PNG (Max size: 5MB)"}),f&&o.projectThumbnail&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current image is uploaded. Leave empty to keep existing image."}),o.projectThumbnail&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.projectThumbnail,alt:"Project Thumbnail Preview",className:"rounded",style:{height:"5rem",width:"5rem",objectFit:"cover"}})})]}),(0,b.jsx)("div",{className:"col-12 col-lg-6 d-flex align-items-center",children:(0,b.jsxs)("div",{className:"form-check",children:[(0,b.jsx)("input",{type:"checkbox",name:"isActive",checked:o.isActive,onChange:u,className:"form-check-input",id:"isActive"}),(0,b.jsx)("label",{className:"form-check-label small text-muted",htmlFor:"isActive",children:"Active"})]})})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Banner Videos"}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-md-4",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Mobile Video"}),(0,b.jsx)("input",{type:"file",accept:"video/*",onChange:a=>z(a,"bannerVideo.mobile"),required:!f||!o.bannerVideo.mobile,className:"form-control"}),f&&o.bannerVideo.mobile&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current video is uploaded. Leave empty to keep existing video."}),o.bannerVideo.mobile&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("video",{src:o.bannerVideo.mobile,className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"},controls:!0,"webkit-playsinline":!0,playsInline:!0})}),(0,b.jsx)("label",{className:"form-label small fw-medium text-muted mt-3",children:"Mobile Video Poster"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"bannerVideoPoster.mobile"),className:"form-control"}),o.bannerVideoPoster.mobile&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.bannerVideoPoster.mobile,alt:"Mobile Video Poster Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-md-4",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Tablet Video"}),(0,b.jsx)("input",{type:"file",accept:"video/*",onChange:a=>z(a,"bannerVideo.tablet"),required:!f||!o.bannerVideo.tablet,className:"form-control"}),f&&o.bannerVideo.tablet&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current video is uploaded. Leave empty to keep existing video."}),o.bannerVideo.tablet&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("video",{src:o.bannerVideo.tablet,className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"},controls:!0,"webkit-playsinline":!0,playsInline:!0})}),(0,b.jsx)("label",{className:"form-label small fw-medium text-muted mt-3",children:"Tablet Video Poster"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"bannerVideoPoster.tablet"),className:"form-control"}),o.bannerVideoPoster.tablet&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.bannerVideoPoster.tablet,alt:"Tablet Video Poster Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-md-4",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Desktop Video"}),(0,b.jsx)("input",{type:"file",accept:"video/*",onChange:a=>z(a,"bannerVideo.desktop"),required:!f||!o.bannerVideo.desktop,className:"form-control"}),f&&o.bannerVideo.desktop&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current video is uploaded. Leave empty to keep existing video."}),o.bannerVideo.desktop&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("video",{src:o.bannerVideo.desktop,className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"},controls:!0,"webkit-playsinline":!0,playsInline:!0})}),(0,b.jsx)("label",{className:"form-label small fw-medium text-muted mt-3",children:"Desktop Video Poster"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"bannerVideoPoster.desktop"),className:"form-control"}),o.bannerVideoPoster.desktop&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.bannerVideoPoster.desktop,alt:"Desktop Video Poster Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Content Information"}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Heading"}),(0,b.jsx)("input",{type:"text",name:"heading",value:o.heading,onChange:u,required:!0,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Short Description"}),(0,b.jsx)("textarea",{name:"shortDescription",value:o.shortDescription,onChange:u,required:!0,rows:3,className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Long Description"}),(0,b.jsx)("textarea",{name:"longDescription",value:o.longDescription,onChange:u,required:!0,rows:5,className:"form-control"})]})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Gallery"}),(0,b.jsxs)("div",{className:"d-flex flex-column",children:[(0,b.jsx)("div",{children:o.galleryImages.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded p-3 mb-3",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsxs)("h4",{className:"fw-medium text-dark mb-0",children:["Image ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>x("galleryImages",c),className:"btn btn-sm btn-outline-danger",children:"Remove"})]}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Original Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>A(a,"galleryImages",c,"original"),className:"form-control"}),a.original&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:a.original,alt:"Gallery Original Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Mobile Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>A(a,"galleryImages",c,"mobile"),className:"form-control"}),a.mobile&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:a.mobile,alt:"Gallery Mobile Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Desktop Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>A(a,"galleryImages",c,"desktop"),className:"form-control"}),a.desktop&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:a.desktop,alt:"Gallery Desktop Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Alt Text"}),(0,b.jsx)("input",{type:"text",value:a.altText,onChange:a=>v("galleryImages",c,"altText",a.target.value),className:"form-control"})]})]})]},c))}),(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsx)("h3",{className:"h6 fw-medium text-dark mb-0",children:"Gallery Images"}),(0,b.jsx)("button",{type:"button",onClick:()=>w("galleryImages",{original:"",mobile:"",desktop:"",altText:""}),className:"btn btn-primary btn-sm",children:"Add Image"})]})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Amenities"}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Select Amenities"}),(0,b.jsx)("div",{className:"row g-3",children:m.map(a=>(0,b.jsx)("div",{className:"col-12 col-xxl-2 col-lg-3 col-md-4 col-sm-6",children:(0,b.jsxs)("div",{className:"form-check",children:[(0,b.jsx)("input",{type:"checkbox",value:a._id,checked:o.amenities.includes(a._id),onChange:b=>{b.target.checked?p(b=>({...b,amenities:[...b.amenities,a._id]})):p(b=>({...b,amenities:b.amenities.filter(b=>b!==a._id)}))},className:"form-check-input",id:`amenity-${a._id}`}),(0,b.jsxs)("label",{className:"form-check-label d-flex flex-column text-center align-items-center p-3 border rounded",htmlFor:`amenity-${a._id}`,children:[a.image&&(0,b.jsx)("img",{src:a.image,alt:a.heading,className:"mb-2 rounded",style:{height:"24px",width:"24px",objectFit:"cover"}}),(0,b.jsx)("div",{className:"small fw-medium text-dark",children:a.caption})]})]})},a._id))})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Floor Plans"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsx)("h3",{className:"h6 fw-medium text-dark mb-0",children:"Floor Plans"}),(0,b.jsx)("button",{type:"button",onClick:()=>w("floorPlans",{image:"",altText:"",planType:"",area:"",unit:"sqft"}),className:"btn btn-primary btn-sm",children:"Add Floor Plan"})]}),o.floorPlans.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded p-3 mb-3",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsxs)("h4",{className:"fw-medium text-dark mb-0",children:["Floor Plan ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>x("floorPlans",c),className:"btn btn-sm btn-outline-danger",children:"Remove"})]}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Floor Plan Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>A(a,"floorPlans",c,"image"),className:"form-control"}),a.image&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:a.image,alt:"Floor Plan Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Alt Text"}),(0,b.jsx)("input",{type:"text",value:a.altText,onChange:a=>v("floorPlans",c,"altText",a.target.value),className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Plan Type"}),(0,b.jsx)("input",{type:"text",value:a.planType,onChange:a=>v("floorPlans",c,"planType",a.target.value),className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Area"}),(0,b.jsxs)("div",{className:"d-flex gap-2",children:[(0,b.jsx)("input",{type:"number",value:a.area,onChange:a=>v("floorPlans",c,"area",a.target.value),className:"form-control",placeholder:"Enter area"}),(0,b.jsxs)("select",{value:a.unit,onChange:a=>v("floorPlans",c,"unit",a.target.value),className:"form-select",style:{width:"auto",minWidth:"100px"},children:[(0,b.jsx)("option",{value:"sqft",children:"Sq Ft"}),(0,b.jsx)("option",{value:"sqmt",children:"Sq Mt"}),(0,b.jsx)("option",{value:"acre",children:"Acre"})]})]})]})]})]},c))]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Site Plan"}),(0,b.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-md-4",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Original Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"sitePlanImage.original"),required:!f||!o.sitePlanImage.original,className:"form-control"}),f&&o.sitePlanImage.original&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current image is uploaded. Leave empty to keep existing image."}),o.sitePlanImage.original&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.sitePlanImage.original,alt:"Site Plan Original Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-md-4",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Mobile Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"sitePlanImage.mobile"),required:!f||!o.sitePlanImage.mobile,className:"form-control"}),f&&o.sitePlanImage.mobile&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current image is uploaded. Leave empty to keep existing image."}),o.sitePlanImage.mobile&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.sitePlanImage.mobile,alt:"Site Plan Mobile Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-md-4",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Desktop Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"sitePlanImage.desktop"),required:!f||!o.sitePlanImage.desktop,className:"form-control"}),f&&o.sitePlanImage.desktop&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current image is uploaded. Leave empty to keep existing image."}),o.sitePlanImage.desktop&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.sitePlanImage.desktop,alt:"Site Plan Desktop Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Site Plan Alt Text"}),(0,b.jsx)("input",{type:"text",name:"sitePlanImage.altText",value:o.sitePlanImage.altText,onChange:u,required:!0,className:"form-control"})]})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Nearby Locations"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsx)("h3",{className:"h6 fw-medium text-dark mb-0",children:"Nearby Locations"}),(0,b.jsx)("button",{type:"button",onClick:()=>w("nearbyLocations",{name:"",distance:"",unit:"minutes",image:"",altText:""}),className:"btn btn-primary btn-sm",children:"Add Location"})]}),o.nearbyLocations.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded p-3 mb-3",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsxs)("h4",{className:"fw-medium text-dark mb-0",children:["Location ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>x("nearbyLocations",c),className:"btn btn-sm btn-outline-danger",children:"Remove"})]}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Name"}),(0,b.jsx)("input",{type:"text",value:a.name,onChange:a=>v("nearbyLocations",c,"name",a.target.value),className:"form-control"})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Distance"}),(0,b.jsxs)("div",{className:"d-flex gap-2",children:[(0,b.jsx)("input",{type:"number",value:a.distance,onChange:a=>v("nearbyLocations",c,"distance",a.target.value),className:"form-control",placeholder:"Enter distance"}),(0,b.jsxs)("select",{value:a.unit,onChange:a=>v("nearbyLocations",c,"unit",a.target.value),className:"form-select",style:{width:"auto",minWidth:"120px"},children:[(0,b.jsx)("option",{value:"minutes",children:"Minutes"}),(0,b.jsx)("option",{value:"hrs",children:"Hours"}),(0,b.jsx)("option",{value:"km",children:"KM"}),(0,b.jsx)("option",{value:"meter",children:"Meter"})]})]})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Location Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>A(a,"nearbyLocations",c,"image"),className:"form-control"}),a.image&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:a.image,alt:"Location Preview",className:"rounded",style:{height:"5rem",width:"8rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{className:"col-12 col-lg-6",children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Alt Text"}),(0,b.jsx)("input",{type:"text",value:a.altText,onChange:a=>v("nearbyLocations",c,"altText",a.target.value),className:"form-control"})]})]})]},c))]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"Location Map"}),(0,b.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Location Type"}),(0,b.jsxs)("div",{className:"d-flex gap-3 mb-3",children:[(0,b.jsxs)("div",{className:"form-check",children:[(0,b.jsx)("input",{type:"radio",name:"locationType",value:"image",checked:"image"===o.locationType,onChange:u,className:"form-check-input",id:"locationTypeImage"}),(0,b.jsx)("label",{className:"form-check-label",htmlFor:"locationTypeImage",children:"Add Image"})]}),(0,b.jsxs)("div",{className:"form-check",children:[(0,b.jsx)("input",{type:"radio",name:"locationType",value:"iframe",checked:"iframe"===o.locationType,onChange:u,className:"form-check-input",id:"locationTypeIframe"}),(0,b.jsx)("label",{className:"form-check-label",htmlFor:"locationTypeIframe",children:"Add Iframe"})]})]})]}),"image"===o.locationType?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Location Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>z(a,"locationImage"),required:!f||!o.locationImage,className:"form-control"}),f&&o.locationImage&&(0,b.jsx)("p",{className:"form-text small text-muted mt-1",children:"Current image is uploaded. Leave empty to keep existing image."}),o.locationImage&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:o.locationImage,alt:"Location Image Preview",className:"rounded",style:{height:"5rem",width:"5rem",objectFit:"cover"}})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Location Image Alt Text"}),(0,b.jsx)("input",{type:"text",name:"locationAltText",value:o.locationAltText,onChange:u,required:!0,className:"form-control"})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Iframe Code"}),(0,b.jsx)("textarea",{name:"locationIframe",value:o.locationIframe,onChange:u,required:!0,rows:4,className:"form-control",placeholder:"Paste your iframe code here..."})]})]})]})}),(0,b.jsx)("div",{className:"card shadow-sm mb-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsx)("h2",{className:"h5 fw-semibold text-dark mb-4 border-bottom pb-2",children:"FAQs"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsx)("h3",{className:"h6 fw-medium text-dark mb-0",children:"Frequently Asked Questions"}),(0,b.jsx)("button",{type:"button",onClick:()=>w("faqs",{question:"",answer:""}),className:"btn btn-primary btn-sm",children:"Add FAQ"})]}),o.faqs.map((a,c)=>(0,b.jsxs)("div",{className:"border rounded p-3 mb-3",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsxs)("h4",{className:"fw-medium text-dark mb-0",children:["FAQ ",c+1]}),(0,b.jsx)("button",{type:"button",onClick:()=>x("faqs",c),className:"btn btn-sm btn-outline-danger",children:"Remove"})]}),(0,b.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Question"}),(0,b.jsx)("input",{type:"text",value:a.question,onChange:a=>v("faqs",c,"question",a.target.value),className:"form-control"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"form-label small fw-medium text-muted",children:"Answer"}),(0,b.jsx)("textarea",{value:a.answer,onChange:a=>v("faqs",c,"answer",a.target.value),rows:3,className:"form-control"})]})]})]},c))]})]})}),(0,b.jsxs)("div",{className:"d-flex justify-content-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>h.back(),className:"btn btn-outline-secondary px-4 py-2",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:i,className:"btn btn-primary px-4 py-2",children:i?f?"Updating...":"Creating...":f?"Update Project":"Create Project"})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_admin_projects_add_page_tsx_2835f0fc._.js.map